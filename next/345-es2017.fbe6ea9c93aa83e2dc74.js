"use strict";(self.webpackChunknebular=self.webpackChunknebular||[]).push([[345],{50345:function(t,e,n){n.r(e),n.d(e,{OAuth2PlaygroundModule:function(){return w}});var o=n(38583),s=n(3679),c=n(91841),u=n(32937),i=n(44265),r=n(68729),a=n(9814),l=n(97501),p=n(10494),h=n(46782),g=n(79765),d=n(37716),b=n(15798),f=n(40646);let y=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.destroy$=new g.xQ,this.authService.authenticate("google").pipe((0,h.R)(this.destroy$)).subscribe(t=>{t.isSuccess()&&t.getRedirect()&&this.router.navigateByUrl(t.getRedirect())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(b._),d.Y36(p.F0))},t.\u0275cmp=d.Xpm({type:t,selectors:[["nb-playground-oauth2-callback"]],decls:3,vars:0,template:function(t,e){1&t&&(d.TgZ(0,"nb-layout"),d.TgZ(1,"nb-layout-column"),d._uU(2,"Authenticating..."),d.qZA(),d.qZA())},directives:[f.Aq,f.dP],encapsulation:2}),t})();var k=n(74743);function m(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"button",2),d.NdJ("click",function(){return d.CHM(t),d.oxw().login()}),d._uU(1,"Sign In with Google"),d.qZA()}}function Z(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"button",3),d.NdJ("click",function(){return d.CHM(t),d.oxw().logout()}),d._uU(1,"Sign Out"),d.qZA()}}const A=[{path:"",component:(()=>{class t{constructor(t){this.authService=t,this.destroy$=new g.xQ,this.authService.onTokenChange().pipe((0,h.R)(this.destroy$)).subscribe(t=>{this.token=null,t&&t.isValid()&&(this.token=t)})}login(){this.authService.authenticate("google").pipe((0,h.R)(this.destroy$)).subscribe(t=>{})}logout(){this.authService.logout("google").pipe((0,h.R)(this.destroy$)).subscribe(t=>{})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(b._))},t.\u0275cmp=d.Xpm({type:t,selectors:[["nb-playground-auth"]],decls:11,vars:6,consts:[["nbButton","","status","success",3,"click",4,"ngIf"],["nbButton","","status","warning",3,"click",4,"ngIf"],["nbButton","","status","success",3,"click"],["nbButton","","status","warning",3,"click"]],template:function(t,e){1&t&&(d.TgZ(0,"nb-layout"),d.TgZ(1,"nb-layout-column"),d.TgZ(2,"nb-card"),d.TgZ(3,"nb-card-body"),d.TgZ(4,"p"),d._uU(5),d.qZA(),d.TgZ(6,"p"),d._uU(7),d.ALo(8,"json"),d.qZA(),d.YNc(9,m,2,0,"button",0),d.YNc(10,Z,2,0,"button",1),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(5),d.hij("Current User Authenticated: ",!!e.token,""),d.xp6(2),d.hij("Current User Token: ",d.lcZ(8,4,e.token),""),d.xp6(2),d.Q6J("ngIf",!e.token),d.xp6(1),d.Q6J("ngIf",e.token))},directives:[f.Aq,f.dP,k.As,k.yK,o.O5],pipes:[o.Ts],encapsulation:2}),t})()},{path:"callback",component:y}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[p.Bz.forChild(A)],p.Bz]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[o.ez,s.u5,c.JF,r.S.forRoot({strategies:[a.F.setup({name:"google",clientId:"806751403568-03376bvlin9n3rhid0cahus6ei3lc69q.apps.googleusercontent.com",clientSecret:"",authorize:{endpoint:"https://accounts.google.com/o/oauth2/v2/auth",responseType:l.aW.TOKEN,scope:"https://www.googleapis.com/auth/userinfo.profile",redirectUri:"https://akveo.github.io/nebular/example/oauth2/callback"},redirect:{success:"/example/oauth2"}})]}),u.z,i.B,v]]}),t})()}}]);