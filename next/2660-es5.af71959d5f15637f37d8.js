!function(){"use strict";function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var o,i,r=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return r}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(self.webpackChunknebular=self.webpackChunknebular||[]).push([[2660],{52660:function(o,r,a){a.r(r),a.d(r,{InfiniteListModule:function(){return tt}});var l=a(38583),c=a(10643),h=a(32937),u=a(80090),p=a(10494),d=a(37716),f=a(58071),g=a(15257),m=a(42145),b=a(548),v=a(95242),y=a(34022);function w(t,e,n){return 0===n?[e]:(t.push(e),t)}var P,S=a(56722),x=a(59190),Z=a(88002),T=a(71289),N=a(91841),A=((P=function(){function t(e){i(this,t),this.http=e}return s(t,[{key:"load",value:function(t,e){var n=(t-1)%7*e;return this.http.get("assets/data/news.json").pipe((0,Z.U)(function(t){return t.splice(n,e)}),(0,T.g)(1500))}}]),t}()).\u0275fac=function(t){return new(t||P)(d.LFG(N.eN))},P.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac}),P),O=a(94775),_=a(62829),q=a(74743),C=a(77233),k=a(3656),z=function(){var t=function t(){i(this,t),this.label="Loading"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["nb-news-post-placeholder"]],hostVars:1,hostBindings:function(t,e){2&t&&d.uIk("aria-label",e.label)},decls:3,vars:0,consts:[[1,"title-placeholder"],[1,"text-placeholder"],[1,"link-placeholder"]],template:function(t,e){1&t&&(d._UZ(0,"div",0),d._UZ(1,"div",1),d._UZ(2,"div",2))},styles:["[_nghost-%COMP%]{display:block;width:100%}.title-placeholder[_ngcontent-%COMP%]{height:1.8rem;margin-bottom:.5rem;width:80%}.text-placeholder[_ngcontent-%COMP%]{height:4rem;margin-bottom:1rem}.link-placeholder[_ngcontent-%COMP%]{height:1.25rem;width:5rem}.nb-theme-default   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#e4e9f2}.nb-theme-dark   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#101426}.nb-theme-cosmic   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#13132b}.nb-theme-corporate   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#e4e9f2}"]}),t}(),I=function(){var t=function t(){i(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["nb-news-post"]],inputs:{post:"post"},decls:7,vars:3,consts:[[1,"h5"]],template:function(t,e){1&t&&(d.TgZ(0,"article"),d.TgZ(1,"h2",0),d._uU(2),d.qZA(),d.TgZ(3,"p"),d._uU(4),d.qZA(),d.TgZ(5,"a"),d._uU(6,"Read full article"),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.Oqu(e.post.title),d.xp6(2),d.Oqu(e.post.text),d.xp6(1),d.uIk("href",e.post.link,d.LSH))},encapsulation:2}),t}();function J(t,e){1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post-placeholder"),d.qZA())}function U(t,e){if(1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post",2),d.qZA()),2&t){var n=e.$implicit;d.xp6(1),d.Q6J("post",n)}}function M(t,e){1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post-placeholder"),d.qZA())}var Q=function(){var n=function(){function n(t,e,o,r,s,a,c){i(this,n),this.newsService=t,this.router=e,this.route=o,this.scrollService=r,this.layoutService=s,this.platformId=a,this.window=c,this.news=[],this.topPlaceholders=[],this.bottomPlaceholders=[],this.pageSize=10,this.loadingNext=!1,this.loadingPrevious=!1,(0,l.NF)(this.platformId)&&this.window.history.scrollRestoration&&(this.initialScrollRestoration=c.history.scrollRestoration,history.scrollRestoration="manual")}return s(n,[{key:"ngOnInit",value:function(){var t=this.route.snapshot.queryParams.page;this.startPage=t?Number.parseInt(t,10):100,this.pageToLoadNext=this.startPage}},{key:"ngOnDestroy",value:function(){this.initialScrollRestoration&&(this.window.history.scrollRestoration=this.initialScrollRestoration)}},{key:"updateUrl",value:function(t){this.router.navigate(["."],{queryParams:{page:t},replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge"})}},{key:"loadPrevious",value:function(){var t=this;this.loadingPrevious||1===this.startPage||(this.loadingPrevious=!0,this.topPlaceholders=new Array(this.pageSize),this.restoreScrollPosition(),this.startPage--,this.newsService.load(this.startPage,this.pageSize).subscribe(function(n){var o;t.topPlaceholders=[],(o=t.news).unshift.apply(o,e(n)),t.loadingPrevious=!1},function(e){return t.startPage++}))}},{key:"loadNext",value:function(){var t=this;this.loadingNext||(this.loadingNext=!0,this.bottomPlaceholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(function(n){var o;t.bottomPlaceholders=[],(o=t.news).push.apply(o,e(n)),t.loadingNext=!1,t.pageToLoadNext++}))}},{key:"restoreScrollPosition",value:function(){var e=this;(0,f.z)(this.layoutService.getDimensions(),this.scrollService.getPosition(),this.listItems.changes.pipe((0,g.q)(1)),this.layoutService.getDimensions(),this.scrollService.getPosition()).pipe(function(t,e){return arguments.length>=2?function(n){return(0,y.z)((0,m.R)(t,e),(0,b.h)(1),(0,v.d)(e))(n)}:function(e){return(0,y.z)((0,m.R)(function(e,n,o){return t(e,n,o+1)}),(0,b.h)(1))(e)}}(w,[])).subscribe(function(n){var o=t(n,5),i=o[0],r=o[1],s=o[3],a=o[4].y,l=s.scrollHeight-i.scrollHeight;r.y+l!==a&&e.scrollService.scrollTo(null,a+l)})}}]),n}();return n.\u0275fac=function(t){return new(t||n)(d.Y36(A),d.Y36(p.F0),d.Y36(p.gz),d.Y36(O.H),d.Y36(_.m),d.Y36(d.Lbi),d.Y36(S.Q3))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,e){var n;(1&t&&d.Gf(x.q,5,d.SBq),2&t)&&(d.iGM(n=d.CRH())&&(e.listItems=n))},features:[d._Bn([A])],decls:5,vars:6,consts:[["nbInfiniteList","","listenWindowScroll","","nbListPageTracker","",3,"threshold","pageSize","startPage","topThreshold","bottomThreshold","pageChange"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(t,e){1&t&&(d.TgZ(0,"nb-card"),d.TgZ(1,"nb-list",0),d.NdJ("topThreshold",function(){return e.loadPrevious()})("bottomThreshold",function(){return e.loadNext()})("pageChange",function(t){return e.updateUrl(t)}),d.YNc(2,J,2,0,"nb-list-item",1),d.YNc(3,U,2,1,"nb-list-item",1),d.YNc(4,M,2,0,"nb-list-item",1),d.qZA(),d.qZA()),2&t&&(d.xp6(1),d.Q6J("threshold",500)("pageSize",e.pageSize)("startPage",e.startPage),d.xp6(1),d.Q6J("ngForOf",e.topPlaceholders),d.xp6(1),d.Q6J("ngForOf",e.news),d.xp6(1),d.Q6J("ngForOf",e.bottomPlaceholders))},directives:[q.As,x.z,C.s,k.B,l.sg,x.q,z,I],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),n}();function Y(t,e){if(1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post",4),d.qZA()),2&t){var n=e.$implicit;d.xp6(1),d.Q6J("post",n)}}function L(t,e){1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post-placeholder"),d.qZA())}function F(t,e){if(1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post",4),d.qZA()),2&t){var n=e.$implicit;d.xp6(1),d.Q6J("post",n)}}function R(t,e){1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post-placeholder"),d.qZA())}var B=function(){var t=function(){function t(e){i(this,t),this.newsService=e,this.firstCard={news:[],placeholders:[],loading:!1,pageToLoadNext:1},this.secondCard={news:[],placeholders:[],loading:!1,pageToLoadNext:1},this.pageSize=10}return s(t,[{key:"loadNext",value:function(t){t.loading||(t.loading=!0,t.placeholders=new Array(this.pageSize),this.newsService.load(t.pageToLoadNext,this.pageSize).subscribe(function(n){var o;t.placeholders=[],(o=t.news).push.apply(o,e(n)),t.loading=!1,t.pageToLoadNext++}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(A))},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],features:[d._Bn([A])],decls:12,vars:6,consts:[[1,"own-scroll"],["nbInfiniteList","",3,"threshold","bottomThreshold"],[4,"ngFor","ngForOf"],["nbInfiniteList","","listenWindowScroll","",3,"threshold","bottomThreshold"],[3,"post"]],template:function(t,e){1&t&&(d.TgZ(0,"nb-card",0),d.TgZ(1,"nb-card-header"),d._uU(2," Own scroll "),d.qZA(),d.TgZ(3,"nb-list",1),d.NdJ("bottomThreshold",function(){return e.loadNext(e.firstCard)}),d.YNc(4,Y,2,1,"nb-list-item",2),d.YNc(5,L,2,0,"nb-list-item",2),d.qZA(),d.qZA(),d.TgZ(6,"nb-card"),d.TgZ(7,"nb-card-header"),d._uU(8," Window scroll "),d.qZA(),d.TgZ(9,"nb-list",3),d.NdJ("bottomThreshold",function(){return e.loadNext(e.secondCard)}),d.YNc(10,F,2,1,"nb-list-item",2),d.YNc(11,R,2,0,"nb-list-item",2),d.qZA(),d.qZA()),2&t&&(d.xp6(3),d.Q6J("threshold",500),d.xp6(1),d.Q6J("ngForOf",e.firstCard.news),d.xp6(1),d.Q6J("ngForOf",e.firstCard.placeholders),d.xp6(4),d.Q6J("threshold",500),d.xp6(1),d.Q6J("ngForOf",e.secondCard.news),d.xp6(1),d.Q6J("ngForOf",e.secondCard.placeholders))},directives:[q.As,q.nd,x.z,C.s,l.sg,x.q,I,z],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}","[_nghost-%COMP%]{display:flex}nb-card[_ngcontent-%COMP%]{flex:1 1 45%;margin:0 2.5%}nb-card.own-scroll[_ngcontent-%COMP%]{height:30rem}"]}),t}();function H(t,e){if(1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post",2),d.qZA()),2&t){var n=e.$implicit;d.xp6(1),d.Q6J("post",n)}}function $(t,e){1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post-placeholder"),d.qZA())}var j=function(){var t=function(){function t(e){i(this,t),this.newsService=e,this.news=[],this.placeholders=[],this.pageSize=10,this.pageToLoadNext=1,this.loading=!1}return s(t,[{key:"loadNext",value:function(){var t=this;this.loading||(this.loading=!0,this.placeholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(function(n){var o;t.placeholders=[],(o=t.news).push.apply(o,e(n)),t.loading=!1,t.pageToLoadNext++}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(A))},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],features:[d._Bn([A])],decls:4,vars:3,consts:[["nbInfiniteList","","listenWindowScroll","",3,"threshold","bottomThreshold"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(t,e){1&t&&(d.TgZ(0,"nb-card"),d.TgZ(1,"nb-list",0),d.NdJ("bottomThreshold",function(){return e.loadNext()}),d.YNc(2,H,2,1,"nb-list-item",1),d.YNc(3,$,2,0,"nb-list-item",1),d.qZA(),d.qZA()),2&t&&(d.xp6(1),d.Q6J("threshold",500),d.xp6(1),d.Q6J("ngForOf",e.news),d.xp6(1),d.Q6J("ngForOf",e.placeholders))},directives:[q.As,x.z,C.s,l.sg,x.q,I,z],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),t}(),E=a(45435),X=a(97268);function G(t,e){if(1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post",3),d.qZA()),2&t){var n=e.$implicit;d.xp6(1),d.Q6J("post",n)}}function W(t,e){1&t&&(d.TgZ(0,"nb-list-item"),d._UZ(1,"nb-news-post-placeholder"),d.qZA())}function D(t,e){var n=t.getComputedStyle(e),o=parseInt(n.getPropertyValue("margin-top"),10),i=parseInt(n.getPropertyValue("margin-bottom"),10);return e.offsetHeight+o+i}var V=[{path:"infinite-list-placeholders.component",component:Q},{path:"infinite-list-scroll-modes.component",component:B},{path:"infinite-list-showcase.component",component:j},{path:"infinite-news-list.component",component:function(){var t=function(){function t(e,n,o,r,s,a){i(this,t),this.newsService=e,this.router=n,this.route=o,this.scrollService=r,this.platformId=s,this.window=a,this.news=[],this.placeholders=[],this.pageSize=10,this.loadingNext=!1,this.loadingPrevious=!1,(0,l.NF)(this.platformId)&&this.window.history.scrollRestoration&&(this.initialScrollRestoration=a.history.scrollRestoration,history.scrollRestoration="manual")}return s(t,[{key:"ngOnInit",value:function(){var t=this.route.snapshot.queryParams.page;this.startPage=t?Number.parseInt(t,10):1,this.pageToLoadNext=this.startPage}},{key:"ngOnDestroy",value:function(){this.initialScrollRestoration&&(this.window.history.scrollRestoration=this.initialScrollRestoration)}},{key:"updateUrl",value:function(t){this.router.navigate(["."],{queryParams:{page:t},replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge"})}},{key:"loadPrevious",value:function(){var t=this;this.loadingPrevious||1===this.startPage||(this.loadingPrevious=!0,this.newsService.load(this.startPage-1,this.pageSize).subscribe(function(n){var o;(o=t.news).unshift.apply(o,e(n)),t.loadingPrevious=!1,t.restoreScrollPosition(),t.startPage--}))}},{key:"loadNext",value:function(){var t=this;this.loadingNext||(this.loadingNext=!0,this.placeholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(function(n){var o;t.placeholders=[],(o=t.news).push.apply(o,e(n)),t.loadingNext=!1,t.pageToLoadNext++}))}},{key:"restoreScrollPosition",value:function(){var t=this,e=this.listItems.length>0?this.listItems.first.nativeElement:null;this.listItems.changes.pipe((0,Z.U)(function(){return t.listItems.first.nativeElement}),(0,E.h)(function(t){return t!==e}),(0,g.q)(1)).subscribe(function(){var o,i=0,r=function(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw s}}}}(t.listItems.toArray());try{for(r.s();!(o=r.n()).done;){var s=o.value.nativeElement;if(s===e)break;i+=D(t.window,s)}}catch(a){r.e(a)}finally{r.f()}t.scrollService.scrollTo(null,i)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(A),d.Y36(p.F0),d.Y36(p.gz),d.Y36(O.H),d.Y36(d.Lbi),d.Y36(S.Q3))},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;(1&t&&d.Gf(x.q,5,d.SBq),2&t)&&(d.iGM(n=d.CRH())&&(e.listItems=n))},features:[d._Bn([A])],decls:5,vars:6,consts:[[3,"nbSpinner"],["nbInfiniteList","","listenWindowScroll","","nbListPageTracker","",3,"threshold","pageSize","startPage","topThreshold","bottomThreshold","pageChange"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(t,e){1&t&&(d.TgZ(0,"nb-card"),d._UZ(1,"div",0),d.TgZ(2,"nb-list",1),d.NdJ("topThreshold",function(){return e.loadPrevious()})("bottomThreshold",function(){return e.loadNext()})("pageChange",function(t){return e.updateUrl(t)}),d.YNc(3,G,2,1,"nb-list-item",2),d.YNc(4,W,2,0,"nb-list-item",2),d.qZA(),d.qZA()),2&t&&(d.xp6(1),d.Q6J("nbSpinner",e.loadingPrevious),d.xp6(1),d.Q6J("threshold",500)("pageSize",e.pageSize)("startPage",e.startPage),d.xp6(1),d.Q6J("ngForOf",e.news),d.xp6(1),d.Q6J("ngForOf",e.placeholders))},directives:[q.As,X.Q,x.z,C.s,k.B,l.sg,x.q,I,z],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),t}()}],K=function(){var t=function t(){i(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[p.Bz.forChild(V)],p.Bz]}),t}(),tt=function(){var t=function t(){i(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[l.ez,c.C,h.z,u.u,K]]}),t}()}}])}();