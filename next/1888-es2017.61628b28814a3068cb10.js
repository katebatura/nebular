"use strict";(self.webpackChunknebular=self.webpackChunknebular||[]).push([[1888],{89484:function(e,t,i){i.d(t,{mw:function(){return g},Ql:function(){return f},lc:function(){return v},Cu:function(){return T},$k:function(){return k}});var s=i(37716),n=i(3679),r=i(79765),o=i(66682),a=i(22759),c=i(15257),l=i(93342),u=i(45435),h=i(46782),d=i(88002),p=i(56722),m=i(3841);class g{}class f{}const v=new s.OlP("Datepicker Adapter"),T=new s.OlP("Date service options");let k=(()=>{class e{constructor(e,t,i,s,o){this.document=e,this.datepickerAdapters=t,this.hostRef=i,this.dateService=s,this.changeDetector=o,this.destroy$=new r.xQ,this.isDatepickerReady=!1,this.onChange=()=>{},this.onTouched=()=>{},this.validator=n.kI.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator].map(e=>e.bind(this))),this.subscribeOnInputChange()}set setPicker(e){this.picker=e,this.setupPicker()}get input(){return this.hostRef.nativeElement}get inputValue(){return this.input.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}writeValue(e){this.isDatepickerReady?(this.writePicker(e),this.writeInput(e)):this.queue=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.input.disabled=e}validate(){return this.validator(null)}hidePicker(){this.input.focus(),this.picker.hide()}parseValidator(){return""===this.inputValue||this.datepickerAdapter.isValid(this.inputValue,this.picker.format)?null:{nbDatepickerParse:{value:this.inputValue}}}minValidator(){const e=this.picker.getValidatorConfig(),t=this.datepickerAdapter.parse(this.inputValue,this.picker.format);return!e.min||!t||this.dateService.compareDates(e.min,t)<=0?null:{nbDatepickerMin:{min:e.min,actual:t}}}maxValidator(){const e=this.picker.getValidatorConfig(),t=this.datepickerAdapter.parse(this.inputValue,this.picker.format);return!e.max||!t||this.dateService.compareDates(e.max,t)>=0?null:{nbDatepickerMax:{max:e.max,actual:t}}}filterValidator(){const e=this.picker.getValidatorConfig(),t=this.datepickerAdapter.parse(this.inputValue,this.picker.format);return e.filter&&t&&!e.filter(t)?{nbDatepickerFilter:!0}:null}chooseDatepickerAdapter(){if(this.datepickerAdapter=this.datepickerAdapters.find(({picker:e})=>this.picker instanceof e),this.noDatepickerAdapterProvided())throw new Error("No datepickerAdapter provided for picker")}setupPicker(){this.chooseDatepickerAdapter(),this.picker.attach(this.hostRef),this.inputValue&&(this.picker.value=this.datepickerAdapter.parse(this.inputValue,this.picker.format)),this.isDatepickerReady||this.picker.init.pipe((0,c.q)(1),(0,l.b)(()=>this.isDatepickerReady=!0),(0,u.h)(()=>!!this.queue),(0,h.R)(this.destroy$)).subscribe(()=>{this.writeValue(this.queue),this.onChange(this.queue),this.changeDetector.detectChanges(),this.queue=void 0}),this.picker.valueChange.pipe((0,h.R)(this.destroy$)).subscribe(e=>{this.writePicker(e),this.writeInput(e),this.onChange(e),this.picker.shouldHide()&&this.hidePicker()}),(0,o.T)(this.picker.blur,(0,a.R)(this.input,"blur").pipe((0,u.h)(()=>!this.picker.isShown&&this.document.activeElement!==this.input))).pipe((0,h.R)(this.destroy$)).subscribe(()=>this.onTouched())}writePicker(e){this.picker.value=e}writeInput(e){this.hostRef.nativeElement.value=this.datepickerAdapter.format(e,this.picker.format)}noDatepickerAdapterProvided(){return!(this.datepickerAdapter&&this.datepickerAdapter instanceof g)}subscribeOnInputChange(){(0,a.R)(this.input,"input").pipe((0,d.U)(()=>this.inputValue),(0,h.R)(this.destroy$)).subscribe(e=>this.handleInputChange(e))}handleInputChange(e){const t=this.parseInputValue(e);this.onChange(t),this.writePicker(t)}parseInputValue(e){return this.datepickerAdapter.isValid(e,this.picker.format)?this.datepickerAdapter.parse(e,this.picker.format):null}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(p.qT),s.Y36(v),s.Y36(s.SBq),s.Y36(m.u),s.Y36(s.sBO))},e.\u0275dir=s.lG2({type:e,selectors:[["input","nbDatepicker",""]],inputs:{setPicker:["nbDatepicker","setPicker"]},features:[s._Bn([{provide:n.JU,useExisting:(0,s.Gpc)(()=>e),multi:!0},{provide:n.Cf,useExisting:(0,s.Gpc)(()=>e),multi:!0}])]}),e})()},70757:function(e,t,i){i.d(t,{P:function(){return s},l:function(){return n}});const s=new(i(37716).OlP)("NB_TIME_PICKER_CONFIG"),n={hoursText:"Hr",minutesText:"Min",secondsText:"Sec",ampmText:"Am/Pm"}},80819:function(e,t,i){i.d(t,{e:function(){return _}});var s=i(37716),n=i(79765),r=i(24036),o=i(97805),a=i(53094),c=i(70757),l=i(43263),u=i(45343),h=i(3841),d=i(74743),p=i(38583),m=i(59190),g=i(45435),f=i(15257),v=i(46782),T=i(66682);const k=["valueContainer"];let x=(()=>{class e{constructor(e,t){this.ngZone=e,this.platformService=t,this.selectedChange$=new n.xQ,this.unselected$=this.selectedChange$.pipe((0,g.h)(e=>!e)),this.destroy$=new n.xQ,this.select=new s.vpe}set selected(e){e&&(this._selected=e,this.scrollToElement()),this.selectedChange$.next(e)}get selected(){return this._selected}onClick(){this.select.emit({value:this.value})}ngAfterViewInit(){this.selected&&this.ngZone.onStable.pipe((0,f.q)(1),(0,v.R)((0,T.T)(this.unselected$,this.destroy$))).subscribe(()=>this.scrollToElement())}scrollToElement(){this.valueContainerElement&&this.platformService.isBrowser&&this.ngZone.runOutsideAngular(()=>this.valueContainerElement.nativeElement.scrollIntoView({block:"center"}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.R0b),s.Y36(l.h))},e.\u0275cmp=s.Xpm({type:e,selectors:[["nb-timepicker-cell"]],viewQuery:function(e,t){if(1&e&&s.Gf(k,5),2&e){let e;s.iGM(e=s.CRH())&&(t.valueContainerElement=e.first)}},hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t.onClick()})},inputs:{selected:"selected",value:"value"},outputs:{select:"select"},decls:3,vars:1,consts:[["valueContainer",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",null,0),s._uU(2),s.qZA()),2&e&&(s.xp6(2),s.Oqu(t.value))},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-ms-user-select:none;user-select:none}"],changeDetection:0}),e})();var w=i(2355);function S(e,t){1&e&&(s.ynx(0),s.TgZ(1,"div",8),s._uU(2,"Time"),s.qZA(),s.BQk())}function b(e,t){if(1&e&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&e){const e=s.oxw(3);s.xp6(1),s.Oqu(e.secondsText)}}function C(e,t){if(1&e&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&e){const e=s.oxw(3);s.xp6(1),s.Oqu(e.ampmText)}}function y(e,t){if(1&e&&(s.TgZ(0,"div",8),s._uU(1),s.qZA(),s.TgZ(2,"div",8),s._uU(3),s.qZA(),s.YNc(4,b,2,1,"div",9),s.YNc(5,C,2,1,"div",9)),2&e){const e=s.oxw(2);s.xp6(1),s.Oqu(e.hoursText),s.xp6(2),s.Oqu(e.minutesText),s.xp6(1),s.Q6J("ngIf",e.withSeconds),s.xp6(1),s.Q6J("ngIf",e.twelveHoursFormat)}}function F(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"nb-list-item",12),s.TgZ(1,"nb-timepicker-cell",13),s.NdJ("select",function(){const t=s.CHM(e).$implicit;return s.oxw(3).selectFullTime(t)}),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,i=s.oxw(3);s.ekj("selected",i.isSelectedFullTimeValue(e)),s.xp6(1),s.Q6J("value",i.getFullTimeString(e))("selected",i.isSelectedFullTimeValue(e))}}function O(e,t){if(1&e&&(s.ynx(0),s.TgZ(1,"nb-list",10),s.YNc(2,F,2,4,"nb-list-item",11),s.qZA(),s.BQk()),2&e){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",e.fullTimeOptions)("ngForTrackBy",e.trackBySingleColumnValue.bind(e))}}function A(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"nb-list-item",12),s.TgZ(1,"nb-timepicker-cell",13),s.NdJ("select",function(){const t=s.CHM(e).$implicit;return s.oxw(3).setHour(t.value)}),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,i=s.oxw(3);s.ekj("selected",i.isSelectedHour(e.value)),s.xp6(1),s.Q6J("value",e.text)("selected",i.isSelectedHour(e.value))}}function Z(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"nb-list-item",12),s.TgZ(1,"nb-timepicker-cell",13),s.NdJ("select",function(){const t=s.CHM(e).$implicit;return s.oxw(3).setMinute(t.value)}),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,i=s.oxw(3);s.ekj("selected",i.isSelectedMinute(e.value)),s.xp6(1),s.Q6J("value",e.text)("selected",i.isSelectedMinute(e.value))}}function V(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"nb-list-item",12),s.TgZ(1,"nb-timepicker-cell",13),s.NdJ("select",function(){const t=s.CHM(e).$implicit;return s.oxw(4).setSecond(t.value)}),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,i=s.oxw(4);s.ekj("selected",i.isSelectedSecond(e.value)),s.xp6(1),s.Q6J("value",e.text)("selected",i.isSelectedSecond(e.value))}}function M(e,t){if(1&e&&(s.TgZ(0,"nb-list",10),s.YNc(1,V,2,4,"nb-list-item",11),s.qZA()),2&e){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.secondsColumnOptions)("ngForTrackBy",e.trackByTimeValues)}}function P(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"nb-list-item",16),s.TgZ(1,"nb-timepicker-cell",13),s.NdJ("select",function(){const t=s.CHM(e).$implicit;return s.oxw(4).changeDayPeriod(t)}),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,i=s.oxw(4);s.ekj("selected",i.isSelectedDayPeriod(e)),s.xp6(1),s.Q6J("value",e)("selected",i.isSelectedDayPeriod(e))}}function H(e,t){if(1&e&&(s.TgZ(0,"nb-list",10),s.YNc(1,P,2,4,"nb-list-item",15),s.qZA()),2&e){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.dayPeriodColumnOptions)("ngForTrackBy",e.trackByDayPeriod)}}function q(e,t){if(1&e&&(s.TgZ(0,"nb-list",10),s.YNc(1,A,2,4,"nb-list-item",11),s.qZA(),s.TgZ(2,"nb-list",10),s.YNc(3,Z,2,4,"nb-list-item",11),s.qZA(),s.YNc(4,M,2,2,"nb-list",14),s.YNc(5,H,2,2,"nb-list",14)),2&e){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.hoursColumnOptions)("ngForTrackBy",e.trackByTimeValues),s.xp6(2),s.Q6J("ngForOf",e.minutesColumnOptions)("ngForTrackBy",e.trackByTimeValues),s.xp6(1),s.Q6J("ngIf",e.showSeconds()),s.xp6(1),s.Q6J("ngIf",e.twelveHoursFormat)}}function B(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"nb-card-footer",17),s.TgZ(1,"nb-calendar-actions",18),s.NdJ("setCurrentTime",function(){return s.CHM(e),s.oxw(2).setCurrentTime()})("saveValue",function(){return s.CHM(e),s.oxw(2).saveValue()}),s.qZA(),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(1),s.Q6J("applyButtonText",e.applyButtonText)("currentTimeButtonText",e.currentTimeButtonText)}}function D(e,t){if(1&e&&(s.TgZ(0,"nb-card",1),s.TgZ(1,"nb-card-header",2),s.YNc(2,S,3,0,"ng-container",3),s.YNc(3,y,6,4,"ng-template",null,4,s.W1O),s.qZA(),s.TgZ(5,"div",5),s.YNc(6,O,3,2,"ng-container",3),s.YNc(7,q,6,6,"ng-template",null,6,s.W1O),s.qZA(),s.YNc(9,B,2,2,"nb-card-footer",7),s.qZA()),2&e){const e=s.MAs(4),t=s.MAs(8),i=s.oxw();s.ekj("supports-scrollbar-theming",!i.isFirefox()),s.xp6(2),s.Q6J("ngIf",i.singleColumn)("ngIfElse",e),s.xp6(4),s.Q6J("ngIf",i.singleColumn)("ngIfElse",t),s.xp6(3),s.Q6J("ngIf",i.showFooter)}}let _=(()=>{class e{constructor(e,t,i,r,o,a){this.config=e,this.platformService=t,this.cd=r,this.calendarTimeModelService=o,this.dateService=a,this.blur$=new n.xQ,this.dayPeriodColumnOptions=["AM","PM"],this.isAM=!0,this.showFooter=!0,this.onSelectTime=new s.vpe,this.initFromConfig(this.config)}get blur(){return this.blur$.asObservable()}get timeFormat(){return this._timeFormat}set timeFormat(e){this._timeFormat=e}get twelveHoursFormat(){return this._twelveHoursFormat}set twelveHoursFormat(e){this._twelveHoursFormat=(0,r.e)(e)}get withSeconds(){return this._withSeconds}set withSeconds(e){this._withSeconds=(0,r.e)(e)}get singleColumn(){return this._singleColumn}set singleColumn(e){this._singleColumn=(0,r.e)(e)}set step(e){this._step=e}get step(){return this._step}set date(e){this._date=e,this.isAM="AM"===this.dateService.getDayPeriod(this.date),this.buildColumnOptions(),this.cd.markForCheck()}get date(){return this._date}ngOnInit(){this.timeFormat=this.setupTimeFormat()}ngOnChanges({step:e,twelveHoursFormat:t,withSeconds:i,singleColumn:s}){this.timeFormat=this.setupTimeFormat(),(e||t||i||s||!this.fullTimeOptions)&&this.buildColumnOptions()}setHost(e){this.hostRef=e}attach(e){this.hostRef=e}setCurrentTime(){this.date=this.dateService.today(),this.onSelectTime.emit({time:this.date,save:!0})}setHour(e){this.updateValue(this.dateService.setHours(this.date,e))}setMinute(e){this.updateValue(this.dateService.setMinutes(this.date,e))}setSecond(e){this.updateValue(this.dateService.setSeconds(this.date,e))}selectFullTime(e){this.updateValue(e)}changeDayPeriod(e){this.dateService.getDayPeriod(this.date)!==e&&this.updateValue(this.dateService.addHours(this.date,("AM"===e?-1:1)*this.dateService.HOURS_IN_DAY_PERIOD))}updateValue(e){this.onSelectTime.emit({time:e})}saveValue(){this.onSelectTime.emit({time:this.date,save:!0})}trackByTimeValues(e,t){return t.value}trackBySingleColumnValue(e,t){return this.dateService.valueOf(t)}trackByDayPeriod(e,t){return t}showSeconds(){return this.withSeconds&&!this.singleColumn}isSelectedHour(e){return!!this.date&&this.dateService.getHours(this.date)===e}isSelectedMinute(e){return!!this.date&&this.dateService.getMinutes(this.date)===e}isSelectedSecond(e){return!!this.date&&this.dateService.getSeconds(this.date)===e}isSelectedDayPeriod(e){return!!this.date&&e===this.dateService.getDayPeriod(this.date)}getFullTimeString(e){return this.dateService.format(e,this.timeFormat).toUpperCase()}isSelectedFullTimeValue(e){return!!this.date&&this.dateService.isSameHourAndMinute(e,this.date)}buildColumnOptions(){this.timeFormat=this.setupTimeFormat(),this.fullTimeOptions=this.singleColumn?this.calendarTimeModelService.getHoursRange(this.step):[],this.hoursColumnOptions=this.generateHours(),this.minutesColumnOptions=this.generateMinutesOrSeconds(),this.secondsColumnOptions=this.withSeconds?this.generateMinutesOrSeconds():[]}isFirefox(){return this.platformService.FIREFOX}generateHours(){return this.twelveHoursFormat?this.isAM?(0,a.w6)(12,e=>({value:e,text:this.calendarTimeModelService.paddToTwoSymbols(0===e?12:e)})):(0,a.eB)(12,24,e=>({value:e,text:this.calendarTimeModelService.paddToTwoSymbols(12===e?12:e-12)})):(0,a.w6)(24,e=>({value:e,text:this.calendarTimeModelService.paddToTwoSymbols(e)}))}generateMinutesOrSeconds(){return(0,a.w6)(60,e=>({value:e,text:this.calendarTimeModelService.paddToTwoSymbols(e)}))}setupTimeFormat(){return this.timeFormat?this.timeFormat:this.config.format||this.buildTimeFormat()}buildTimeFormat(){return this.twelveHoursFormat?`${this.withSeconds&&!this.singleColumn?this.dateService.getTwelveHoursFormatWithSeconds():this.dateService.getTwelveHoursFormat()}`:`${this.withSeconds&&!this.singleColumn?this.dateService.getTwentyFourHoursFormatWithSeconds():this.dateService.getTwentyFourHoursFormat()}`}initFromConfig(e){var t;this.twelveHoursFormat=e?e.twelveHoursFormat:this.dateService.getLocaleTimeFormat().includes("h");const i=Object.assign(Object.assign({},c.l),null!==(t=null==e?void 0:e.localization)&&void 0!==t?t:{});this.hoursText=i.hoursText,this.minutesText=i.minutesText,this.secondsText=i.secondsText,this.ampmText=i.ampmText}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c.P),s.Y36(l.h),s.Y36(s.soG),s.Y36(s.sBO),s.Y36(u.g),s.Y36(h.u))},e.\u0275cmp=s.Xpm({type:e,selectors:[["nb-timepicker"]],viewQuery:function(e,t){if(1&e&&s.Gf(o.kV,7),2&e){let e;s.iGM(e=s.CRH())&&(t.portal=e.first)}},inputs:{timeFormat:"timeFormat",twelveHoursFormat:"twelveHoursFormat",withSeconds:"withSeconds",singleColumn:"singleColumn",step:"step",date:"date",showFooter:"showFooter",applyButtonText:"applyButtonText",hoursText:"hoursText",minutesText:"minutesText",secondsText:"secondsText",ampmText:"ampmText",currentTimeButtonText:"currentTimeButtonText"},outputs:{onSelectTime:"onSelectTime"},exportAs:["nbTimepicker"],features:[s.TTD],decls:1,vars:0,consts:[["class","nb-timepicker-container",3,"supports-scrollbar-theming",4,"nbPortal"],[1,"nb-timepicker-container"],[1,"column-header"],[4,"ngIf","ngIfElse"],["fullTimeHeadersBlock",""],[1,"picker-body"],["fullTimeColumnBlock",""],["class","actions-footer",4,"ngIf"],[1,"header-cell"],["class","header-cell",4,"ngIf"],[1,"values-list"],["class","list-item",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],[1,"list-item"],[3,"value","selected","select"],["class","values-list",4,"ngIf"],["class","list-item am-pm-item",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],[1,"list-item","am-pm-item"],[1,"actions-footer"],[3,"applyButtonText","currentTimeButtonText","setCurrentTime","saveValue"]],template:function(e,t){1&e&&s.YNc(0,D,10,7,"nb-card",0)},directives:[o.kV,d.As,d.nd,p.O5,m.z,p.sg,m.q,x,d.XW,w.V],styles:[".nb-timepicker-container[_ngcontent-%COMP%]{overflow:hidden;margin-bottom:0}.values-list[_ngcontent-%COMP%]{width:100%;overflow:hidden;-ms-scroll-snap-type:y proximity;scroll-snap-type:y proximity}.values-list[_ngcontent-%COMP%]:hover{overflow-y:auto}.list-item[_ngcontent-%COMP%]{border:0;padding:0;cursor:pointer}.picker-body[_ngcontent-%COMP%]{display:flex;width:100%;flex:1 0 0;overflow:hidden}.column-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;padding:0}.header-cell[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.actions-footer[_ngcontent-%COMP%]{width:100%}nb-card-header[_ngcontent-%COMP%], nb-card-footer[_ngcontent-%COMP%]{flex:0 0 auto}"],changeDetection:0}),e})()},63052:function(e,t,i){i.d(t,{k:function(){return h}});var s=i(38583),n=i(96136),r=i(10643),o=i(32937),a=i(45343),c=i(70757),l=i(71682),u=i(37716);let h=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[{provide:c.P,useValue:t}]}}static forChild(t={}){return{ngModule:e,providers:[{provide:c.P,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[a.g],imports:[[s.ez,n.j,r.C,o.z,l.V]]}),e})()}}]);