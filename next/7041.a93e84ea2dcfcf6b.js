"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7041],{97041:(vt,T,s)=>{s.r(T),s.d(T,{WindowModule:()=>_t});var g=s(86019),M=s(3167),v=s(85082),Z=s(43004),x=s(66630),t=s(83668),S=s(18735),h=s(38112),r=(()=>{return(n=r||(r={})).MINIMIZED="minimized",n.MAXIMIZED="maximized",n.FULL_SCREEN="full-screen",r;var n})();const R={minimize:!0,maximize:!0,fullScreen:!0};class C{constructor(...i){this.title="",this.titleTemplateContext={},this.initialState=r.FULL_SCREEN,this.hasBackdrop=!0,this.closeOnBackdropClick=!0,this.closeOnEsc=!0,this.windowClass="",this.context={},this.viewContainerRef=null,this.buttons={},Object.assign(this,...i),this.applyDefaultButtonConfig()}applyDefaultButtonConfig(){Object.assign(this,{buttons:Object.assign(Object.assign({},R),this.buttons)})}}const W=new t.OlP("Nebular Window Content"),b=new t.OlP("Nebular Window Config"),y=new t.OlP("Nebular Window Context");var F=s(10466),z=s(23405);class w{constructor(i){this.config=i,this.stateChange$=new F.t(1),this._closed=!1,this.closed$=new z.xQ,this.state=i.initialState}get state(){return this.stateValue}set state(i){i&&this.stateValue!==i&&(this.prevStateValue=this.state,this.stateValue=i,this.stateChange$.next({oldState:this.prevStateValue,newState:i}))}get stateChange(){return this.stateChange$.asObservable()}get onClose(){return this.closed$.asObservable()}minimize(){this.state=r.MINIMIZED}maximize(){this.state=r.MAXIMIZED}fullScreen(){this.state=r.FULL_SCREEN}toPreviousState(){this.state=this.prevStateValue}close(){this._closed||(this._closed=!0,this.componentRef.destroy(),this.componentInstance=null,this.stateChange$.complete(),this.closed$.next(),this.closed$.complete())}}const B=["viewContainerRef"];let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["nb-windows-container"]],viewQuery:function(e,o){if(1&e&&t.Gf(B,7,t.s_b),2&e){let c;t.iGM(c=t.CRH())&&(o.viewContainerRef=c.first)}},decls:2,vars:0,consts:[["viewContainerRef",""]],template:function(e,o){1&e&&t.GkF(0,null,0)},styles:["[_nghost-%COMP%]{display:flex;align-items:flex-end;overflow-x:auto}[_nghost-%COMP%]     nb-window:not(.full-screen){margin:0 2rem}"]}),n})();var k=s(13262),P=s(98909),d=s(60634),m=s(2563),A=s(35492);function E(n,i){1&n&&t.GkF(0)}const U=function(n){return{$implicit:n}};function Q(n,i){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,E,1,0,"ng-container",7),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.config.titleTemplate)("ngTemplateOutletContext",t.VKq(2,U,e.config.titleTemplateContext))}}function Y(n,i){if(1&n&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.config.title)}}function J(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().minimize()}),t._UZ(2,"nb-icon",9),t.qZA(),t.BQk()}}function D(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).maximize()}),t._UZ(1,"nb-icon",11),t.qZA()}}function G(n,i){if(1&n&&(t.ynx(0),t.YNc(1,D,2,0,"button",10),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isFullScreen)}}function V(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).maximizeOrFullScreen()}),t._UZ(1,"nb-icon",12),t.qZA()}}function j(n,i){if(1&n&&(t.ynx(0),t.YNc(1,V,2,0,"button",10),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.minimized||e.maximized)}}function L(n,i){1&n&&(t.TgZ(0,"nb-card-body"),t._UZ(1,"nb-overlay-container"),t.qZA())}let H=(()=>{class n{constructor(e,o,c,l,p,u,f){this.content=e,this.context=o,this.windowRef=c,this.config=l,this.focusTrapFactory=p,this.elementRef=u,this.renderer=f}get isFullScreen(){return this.windowRef.state===r.FULL_SCREEN}get maximized(){return this.windowRef.state===r.MAXIMIZED}get minimized(){return this.windowRef.state===r.MINIMIZED}get showMinimize(){return this.config.buttons.minimize}get showMaximize(){return this.config.buttons.maximize}get showFullScreen(){return this.config.buttons.fullScreen}ngOnInit(){this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement),this.focusTrap.blurPreviouslyFocusedElement(),this.focusTrap.focusInitialElement(),this.config.windowClass&&this.renderer.addClass(this.elementRef.nativeElement,this.config.windowClass)}ngAfterViewChecked(){!this.overlayContainer||this.overlayContainer.isAttached||(this.content instanceof t.Rgc?this.attachTemplate():this.attachComponent())}ngOnDestroy(){this.focusTrap&&this.focusTrap.restoreFocus(),this.close()}minimize(){this.windowRef.state===r.MINIMIZED?this.windowRef.toPreviousState():this.windowRef.minimize()}maximize(){this.windowRef.maximize()}fullScreen(){this.windowRef.fullScreen()}maximizeOrFullScreen(){this.windowRef.state===r.MINIMIZED&&this.showMaximize?this.maximize():this.fullScreen()}close(){this.windowRef.close()}attachTemplate(){this.overlayContainer.attachTemplatePortal(new h.U2(this.content,null,this.context))}attachComponent(){const e=new h.Qi(this.content,null,null,this.cfr),o=this.overlayContainer.attachComponentPortal(e,this.context);this.windowRef.componentInstance=o.instance,o.changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(W),t.Y36(y),t.Y36(w),t.Y36(C),t.Y36(P.E),t.Y36(t.SBq),t.Y36(t.Qsj))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nb-window"]],viewQuery:function(e,o){if(1&e&&t.Gf(k.C,5),2&e){let c;t.iGM(c=t.CRH())&&(o.overlayContainer=c.first)}},hostVars:6,hostBindings:function(e,o){2&e&&t.ekj("full-screen",o.isFullScreen)("maximized",o.maximized)("minimized",o.minimized)},inputs:{cfr:"cfr"},decls:12,vars:6,consts:[["cdkFocusInitial","","tabindex","-1",4,"ngIf","ngIfElse"],["textTitleTemplate",""],[1,"buttons"],[4,"ngIf"],["nbButton","","ghost","",3,"click"],["icon","close-outline","pack","nebular-essentials"],["cdkFocusInitial","","tabindex","-1"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkFocusInitial","","tabindex","-1",1,"title"],["icon","minus-outline","pack","nebular-essentials"],["nbButton","","ghost","",3,"click",4,"ngIf"],["icon","collapse-outline","pack","nebular-essentials"],["icon","expand-outline","pack","nebular-essentials"]],template:function(e,o){if(1&e&&(t.TgZ(0,"nb-card"),t.TgZ(1,"nb-card-header"),t.YNc(2,Q,2,4,"div",0),t.YNc(3,Y,2,1,"ng-template",null,1,t.W1O),t.TgZ(5,"div",2),t.YNc(6,J,3,0,"ng-container",3),t.YNc(7,G,2,1,"ng-container",3),t.YNc(8,j,2,1,"ng-container",3),t.TgZ(9,"button",4),t.NdJ("click",function(){return o.close()}),t._UZ(10,"nb-icon",5),t.qZA(),t.qZA(),t.qZA(),t.YNc(11,L,2,0,"nb-card-body",3),t.qZA()),2&e){const c=t.MAs(4);t.xp6(2),t.Q6J("ngIf",o.config.titleTemplate)("ngIfElse",c),t.xp6(4),t.Q6J("ngIf",o.showMinimize),t.xp6(1),t.Q6J("ngIf",o.showMaximize),t.xp6(1),t.Q6J("ngIf",o.showFullScreen),t.xp6(3),t.Q6J("ngIf",o.maximized||o.isFullScreen)}},directives:[d.As,d.nd,g.O5,m.D,A.f,g.tP,d.yK,k.C],styles:["[_nghost-%COMP%]{flex:1 0 auto;min-width:20rem}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;overflow:hidden}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 0 auto;margin-right:3rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]{width:9.5rem;display:flex;justify-content:flex-end}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]   [nbButton][_ngcontent-%COMP%]{flex:0 0 3rem}.full-screen[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}.maximized[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.minimized[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0;height:auto}.minimized[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:none}"]}),n})();var X=s(93049),$=s(55727),q=s(93117);let a=(()=>{class n{constructor(e,o,c,l,p,u,f){this.componentFactoryResolver=e,this.overlayService=o,this.overlayPositionBuilder=c,this.blockScrollStrategy=l,this.defaultWindowsConfig=p,this.cfr=u,this.openWindows=[],this.document=f}open(e,o={}){this.shouldCreateWindowsContainer()&&this.createWindowsContainer();const c=new C(this.defaultWindowsConfig,o),l=new w(c);return l.componentRef=this.appendWindow(e,c,l),this.openWindows.push(l),this.subscribeToEvents(l),l}shouldCreateWindowsContainer(){return!this.windowsContainerViewRef||!this.document.body.contains(this.windowsContainerViewRef.element.nativeElement)}createWindowsContainer(){this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=this.overlayService.create({scrollStrategy:this.overlayService.scrollStrategies.noop(),positionStrategy:this.overlayPositionBuilder.global().bottom().right(),hasBackdrop:!0});const e=new h.Qi(I,null,null,this.cfr),o=this.overlayRef.attach(e);this.windowsContainerViewRef=o.instance.viewContainerRef}appendWindow(e,o,c){const f=t.zs3.create({parent:o.viewContainerRef?o.viewContainerRef.injector:this.windowsContainerViewRef.injector,providers:[{provide:W,useValue:e},{provide:y,useValue:e instanceof t.Rgc?{$implicit:o.context,windowRef:c}:o.context},{provide:C,useValue:o},{provide:w,useValue:c}]}),Tt=this.componentFactoryResolver.resolveComponentFactory(H),_=this.windowsContainerViewRef.createComponent(Tt,this.windowsContainerViewRef.length,f);return _.instance.cfr=this.cfr,_.changeDetectorRef.detectChanges(),_}subscribeToEvents(e){e.config.closeOnBackdropClick&&this.overlayRef.backdropClick().subscribe(()=>e.close()),e.config.closeOnEsc&&this.overlayRef.keydownEvents().pipe((0,S.h)(o=>27===o.keyCode)).subscribe(()=>e.close()),e.stateChange.subscribe(()=>this.checkAndUpdateOverlay()),e.onClose.subscribe(()=>{this.openWindows.splice(this.openWindows.indexOf(e),1),this.checkAndUpdateOverlay()})}checkAndUpdateOverlay(){const e=this.openWindows.filter(o=>o.state===r.FULL_SCREEN);e.length>0?this.blockScrollStrategy.enable():this.blockScrollStrategy.disable(),e.some(o=>o.config.hasBackdrop)?this.overlayRef.backdropElement.removeAttribute("hidden"):this.overlayRef.backdropElement.setAttribute("hidden","")}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t._Vd),t.LFG($.Pn),t.LFG(h.yV),t.LFG(q.h),t.LFG(b),t.LFG(t._Vd),t.LFG(X.qT))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),K=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[a,{provide:b,useValue:e}]}}static forChild(e){return{ngModule:n,providers:[a,{provide:b,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.ez,M.j,v.z,Z.K,x.T]]}),n})();var tt=s(22625),et=s(93973),N=s(24301);const nt=["contentTemplate"];function ot(n,i){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij('Here is the text provided via config: "',e.text,'"')}}let it=(()=>{class n{constructor(e){this.windowService=e}openWindow(){this.windowService.open(this.contentTemplate,{title:"Window content from template",context:{text:"some text to pass into template"}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(e,o){if(1&e&&t.Gf(nt,5),2&e){let c;t.iGM(c=t.CRH())&&(o.contentTemplate=c.first)}},decls:4,vars:0,consts:[["nbButton","",3,"click"],["contentTemplate",""]],template:function(e,o){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.openWindow()}),t._uU(1,"Open window"),t.qZA(),t.YNc(2,ot,2,1,"ng-template",null,1,t.W1O))},directives:[m.D],styles:["nb-layout-column{height:400px}  .form{display:flex;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}"]}),n})();var ct=s(83191);let O=(()=>{class n{constructor(e){this.windowRef=e}close(){this.windowRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:7,vars:0,consts:[[1,"form"],["for","subject"],["nbInput","","id","subject","type","text"],["for","text",1,"text-label"],["nbInput","","id","text"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"label",1),t._uU(2,"Subject:"),t.qZA(),t._UZ(3,"input",2),t.TgZ(4,"label",3),t._uU(5,"Text:"),t.qZA(),t._UZ(6,"textarea",4),t.qZA())},directives:[ct.h],encapsulation:2}),n})(),st=(()=>{class n{constructor(e){this.windowService=e}openWindow(){this.windowService.open(O,{title:"Window"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:0,consts:[["nbButton","",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.openWindow()}),t._uU(1,"Open window"),t.qZA())},directives:[m.D],styles:["nb-layout-column{height:400px}  .form{display:flex;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}"]}),n})();const lt=["escClose"],rt=["disabledEsc"];function at(n,i){1&n&&t._uU(0," Disabled close on escape click. ")}function mt(n,i){1&n&&t._uU(0," Click escape to close. ")}let dt=(()=>{class n{constructor(e){this.windowService=e}openWindowWithBackdrop(){this.windowService.open(this.escCloseTemplate,{title:"Window with backdrop",hasBackdrop:!0})}openWindowWithoutBackdrop(){this.windowService.open(this.disabledEscTemplate,{title:"Window without backdrop",hasBackdrop:!1,closeOnEsc:!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(e,o){if(1&e&&(t.Gf(lt,5,t.Rgc),t.Gf(rt,5,t.Rgc)),2&e){let c;t.iGM(c=t.CRH())&&(o.escCloseTemplate=c.first),t.iGM(c=t.CRH())&&(o.disabledEscTemplate=c.first)}},decls:8,vars:0,consts:[["nbButton","",3,"click"],["disabledEsc",""],["escClose",""]],template:function(e,o){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.openWindowWithBackdrop()}),t._uU(1,"Open window with backdrop"),t.qZA(),t.TgZ(2,"button",0),t.NdJ("click",function(){return o.openWindowWithoutBackdrop()}),t._uU(3,"Open window without backdrop"),t.qZA(),t.YNc(4,at,1,0,"ng-template",null,1,t.W1O),t.YNc(6,mt,1,0,"ng-template",null,2,t.W1O))},directives:[m.D],styles:["nb-layout-column{height:400px}  .form{display:flex;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}"]}),n})();var pt=s(78739);const ft=["titleTemplate"],ht=["contentTemplate"];function wt(n,i){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij('Here is the text provided via config: "',e.text,'"')}}function gt(n,i){1&n&&(t.TgZ(0,"p"),t._uU(1,"Content"),t.qZA())}const Ct=[{path:"template-window.component",component:it},{path:"window-showcase.component",component:st},{path:"windows-backdrop.component",component:dt},{path:"window-controls.component",component:(()=>{class n{constructor(e){this.windowService=e,this.minimize=!0,this.maximize=!0,this.fullScreen=!0}openWindow(){this.windowService.open(O,{title:"Window",buttons:{minimize:this.minimize,maximize:this.maximize,fullScreen:this.fullScreen}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:12,vars:3,consts:[[1,"subtitle","config-title"],[3,"checked","checkedChange"],["nbButton","",1,"open-window",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"nb-card"),t.TgZ(1,"nb-card-body"),t.TgZ(2,"p",0),t._uU(3,"Buttons config:"),t.qZA(),t.TgZ(4,"nb-checkbox",1),t.NdJ("checkedChange",function(l){return o.minimize=l}),t._uU(5,"Minimize"),t.qZA(),t.TgZ(6,"nb-checkbox",1),t.NdJ("checkedChange",function(l){return o.maximize=l}),t._uU(7,"Maximize"),t.qZA(),t.TgZ(8,"nb-checkbox",1),t.NdJ("checkedChange",function(l){return o.fullScreen=l}),t._uU(9,"Full Screen"),t.qZA(),t.TgZ(10,"button",2),t.NdJ("click",function(){return o.openWindow()}),t._uU(11,"Open window"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("checked",o.minimize),t.xp6(2),t.Q6J("checked",o.maximize),t.xp6(2),t.Q6J("checked",o.fullScreen))},directives:[d.As,d.yK,pt.N,m.D],styles:["nb-layout-column{height:400px}  .form{display:flex;flex-direction:column}  .form .text-label{margin-top:1.5rem}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:2rem}",".config-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.25rem}nb-checkbox[_ngcontent-%COMP%]{display:block}.open-window[_ngcontent-%COMP%]{margin-top:1rem}"],changeDetection:0}),n})()},{path:"window-template-title.component",component:(()=>{class n{constructor(e){this.windowService=e}openWindow(){this.windowService.open(this.contentTemplate,{titleTemplate:this.titleTemplate,titleTemplateContext:{text:"some text to pass into template"}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(e,o){if(1&e&&(t.Gf(ft,5),t.Gf(ht,5)),2&e){let c;t.iGM(c=t.CRH())&&(o.titleTemplate=c.first),t.iGM(c=t.CRH())&&(o.contentTemplate=c.first)}},decls:6,vars:0,consts:[["nbButton","",3,"click"],["titleTemplate",""],["contentTemplate",""]],template:function(e,o){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.openWindow()}),t._uU(1,"Open window"),t.qZA(),t.YNc(2,wt,2,1,"ng-template",null,1,t.W1O),t.YNc(4,gt,2,0,"ng-template",null,2,t.W1O))},directives:[m.D],encapsulation:2}),n})()}];let bt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[N.Bz.forChild(Ct)],N.Bz]}),n})(),_t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[K.forRoot(),x.T,tt.n,et.M,v.z,bt]]}),n})()}}]);