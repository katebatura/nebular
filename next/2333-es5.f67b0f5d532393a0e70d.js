!function(){"use strict";function e(e,s){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,s){if(!e)return;if("string"==typeof e)return t(e,s);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,s)}(e))||s&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw r}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}(self.webpackChunknebular=self.webpackChunknebular||[]).push([[2333],{42333:function(t,n,i){i.r(n),i.d(n,{ChatModule:function(){return Ge}});var r=i(38583),o=i(65131),u=i(60534),l=i(71147),c=i(42687),g=i(24036),p=i(37716),m=i(39075),f=i(12282),d=i(3679),h=i(72037),y=i(37819);function v(e,t){if(1&e){var s=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"span",8),p.NdJ("click",function(){p.CHM(s);var e=p.oxw().$implicit;return p.oxw(2).removeFile(e)}),p._uU(2,"\xd7"),p.qZA(),p.qZA()}if(2&e){var n=p.oxw().$implicit;p.Udp("background-image",n.urlStyle)}}function b(e,t){if(1&e){var s=p.EpF();p.TgZ(0,"div"),p._UZ(1,"nb-icon",9),p.TgZ(2,"span",8),p.NdJ("click",function(){p.CHM(s);var e=p.oxw().$implicit;return p.oxw(2).removeFile(e)}),p._uU(3,"\xd7"),p.qZA(),p.qZA()}}function w(e,t){if(1&e&&(p.ynx(0),p.YNc(1,v,3,2,"div",6),p.YNc(2,b,4,0,"div",7),p.BQk()),2&e){var s=t.$implicit;p.xp6(1),p.Q6J("ngIf",s.urlStyle),p.xp6(1),p.Q6J("ngIf",!s.urlStyle)}}function x(e,t){if(1&e&&(p.TgZ(0,"div",4),p.YNc(1,w,3,2,"ng-container",5),p.qZA()),2&e){var s=p.oxw();p.xp6(1),p.Q6J("ngForOf",s.droppedFiles)}}function F(e,t){if(1&e&&p._UZ(0,"nb-icon",13),2&e){var s=p.oxw(2);p.Q6J("icon",s.buttonIcon)}}function M(e,t){if(1&e&&p._uU(0),2&e){var s=p.oxw(2);p.Oqu(s.buttonTitle)}}function Z(e,t){if(1&e){var s=p.EpF();p.TgZ(0,"button",10),p.NdJ("click",function(){return p.CHM(s),p.oxw().sendMessage()}),p.YNc(1,F,1,1,"nb-icon",11),p.YNc(2,M,1,1,"ng-template",null,12,p.W1O),p.qZA()}if(2&e){var n=p.MAs(3),a=p.oxw();p.ekj("with-icon",!a.buttonTitle),p.Q6J("status",a.getButtonStatus()),p.xp6(1),p.Q6J("ngIf",!a.buttonTitle)("ngIfElse",n)}}var k,J=((k=function(){function t(e,n){s(this,t),this.cd=e,this.domSanitizer=n,this.status="basic",this.inputFocus=!1,this.inputHover=!1,this.droppedFiles=[],this.imgDropTypes=["image/png","image/jpeg","image/gif"],this.message="",this.messagePlaceholder="Type a message",this.buttonTitle="",this.buttonIcon="paper-plane-outline",this.showButton=!0,this.dropFiles=!1,this.dropFilePlaceholder="Drop file to send",this.send=new p.vpe,this.onInputChange=new p.vpe,this.fileOver=!1}return a(t,[{key:"onDrop",value:function(t){var s=this;if(this.dropFiles&&(t.preventDefault(),t.stopPropagation(),this.fileOver=!1,t.dataTransfer&&t.dataTransfer.files)){var n,a=e(t.dataTransfer.files);try{var i=function(){var e=n.value,t=e;if(s.imgDropTypes.includes(e.type)){var a=new FileReader;a.onload=function(e){t.src=e.target.result,t.urlStyle=s.domSanitizer.bypassSecurityTrustStyle("url(".concat(t.src,")")),s.cd.detectChanges()},a.readAsDataURL(e)}s.droppedFiles.push(t)};for(a.s();!(n=a.n()).done;)i()}catch(r){a.e(r)}finally{a.f()}}}},{key:"removeFile",value:function(e){var t=this.droppedFiles.indexOf(e);t>=0&&this.droppedFiles.splice(t,1)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation(),this.dropFiles&&(this.fileOver=!0)}},{key:"onDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.dropFiles&&(this.fileOver=!1)}},{key:"sendMessage",value:function(){(this.droppedFiles.length||String(this.message).trim().length)&&(this.send.emit({message:this.message,files:this.droppedFiles}),this.message="",this.droppedFiles=[])}},{key:"setStatus",value:function(e){this.status!==e&&(this.status=e,this.cd.detectChanges())}},{key:"getInputStatus",value:function(){return this.fileOver?this.getHighlightStatus():this.inputFocus||this.inputHover?this.status:"basic"}},{key:"getButtonStatus",value:function(){return this.getHighlightStatus()}},{key:"getHighlightStatus",value:function(){return"basic"===this.status||"control"===this.status?"primary":this.status}},{key:"onModelChange",value:function(e){this.onInputChange.emit(e)}}]),t}()).\u0275fac=function(e){return new(e||k)(p.Y36(p.sBO),p.Y36(m.H7))},k.\u0275cmp=p.Xpm({type:k,selectors:[["nb-chat-form"]],hostVars:2,hostBindings:function(e,t){1&e&&p.NdJ("drop",function(e){return t.onDrop(e)})("dragover",function(e){return t.onDragOver(e)})("dragleave",function(e){return t.onDragLeave(e)}),2&e&&p.ekj("file-over",t.fileOver)},inputs:{message:"message",messagePlaceholder:"messagePlaceholder",buttonTitle:"buttonTitle",buttonIcon:"buttonIcon",showButton:"showButton",dropFiles:"dropFiles",dropFilePlaceholder:"dropFilePlaceholder"},outputs:{send:"send",onInputChange:"onInputChange"},decls:4,vars:7,consts:[["class","dropped-files",4,"ngIf"],[1,"message-row"],["nbInput","","fullWidth","","type","text",3,"status","ngModel","placeholder","focus","blur","mouseenter","mouseleave","ngModelChange","keyup.enter"],["nbButton","","class","send-button",3,"status","with-icon","click",4,"ngIf"],[1,"dropped-files"],[4,"ngFor","ngForOf"],[3,"background-image",4,"ngIf"],[4,"ngIf"],[1,"remove",3,"click"],["icon","file-text-outline","pack","nebular-essentials"],["nbButton","",1,"send-button",3,"status","click"],["pack","nebular-essentials",3,"icon",4,"ngIf","ngIfElse"],["title",""],["pack","nebular-essentials",3,"icon"]],template:function(e,t){1&e&&(p.YNc(0,x,2,1,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"input",2),p.NdJ("focus",function(){return t.inputFocus=!0})("blur",function(){return t.inputFocus=!1})("mouseenter",function(){return t.inputHover=!0})("mouseleave",function(){return t.inputHover=!1})("ngModelChange",function(e){return t.message=e})("ngModelChange",function(e){return t.onModelChange(e)})("keyup.enter",function(){return t.sendMessage()}),p.qZA(),p.YNc(3,Z,4,5,"button",3),p.qZA()),2&e&&(p.Q6J("ngIf",null==t.droppedFiles?null:t.droppedFiles.length),p.xp6(2),p.ekj("with-button",t.showButton),p.s9C("placeholder",t.fileOver?t.dropFilePlaceholder:t.messagePlaceholder),p.Q6J("status",t.getInputStatus())("ngModel",t.message),p.xp6(1),p.Q6J("ngIf",t.showButton))},directives:[r.O5,f.h,d.Fj,d.JJ,d.On,r.sg,h.f,y.D],encapsulation:2,changeDetection:0}),k),D=i(17238),q=function(){var e=function(){function e(){s(this,e),this.customMessages=new Map}return a(e,[{key:"register",value:function(e,t){this.customMessages.set(e,t)}},{key:"unregister",value:function(e){return this.customMessages.delete(e)}},{key:"getInstance",value:function(e){return this.customMessages.get(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e}();function C(e,t){if(1&e&&(p.ynx(0),p._uU(1),p.BQk()),2&e){var s=p.oxw();p.xp6(1),p.hij(" ",s.initials," ")}}var S=function(){var e=function e(){s(this,e),this.avatarClass=!0};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-avatar"]],hostVars:4,hostBindings:function(e,t){2&e&&(p.Udp("background-image",t.avatarStyle),p.ekj("avatar",t.avatarClass))},inputs:{initials:"initials",avatarStyle:"avatarStyle"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&p.YNc(0,C,2,1,"ng-container",0),2&e&&p.Q6J("ngIf",!t.avatarStyle)},directives:[r.O5],encapsulation:2,changeDetection:0}),e}();function _(e,t){if(1&e&&(p.TgZ(0,"p",2),p._uU(1),p.TgZ(2,"time"),p._uU(3),p.ALo(4,"date"),p.qZA(),p.qZA()),2&e){var s=p.oxw();p.xp6(1),p.hij("",s.sender," "),p.xp6(2),p.Oqu(p.xi3(4,2,s.date,s.dateFormat))}}function T(e,t){if(1&e&&(p.TgZ(0,"p",3),p._uU(1),p.qZA()),2&e){var s=p.oxw();p.xp6(1),p.Oqu(s.message)}}var O=function(){var e=function e(){s(this,e),this.dateFormat="shortTime"};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-message-text"]],inputs:{sender:"sender",message:"message",date:"date",dateFormat:"dateFormat"},decls:2,vars:2,consts:[["class","sender",4,"ngIf"],["class","text",4,"ngIf"],[1,"sender"],[1,"text"]],template:function(e,t){1&e&&(p.YNc(0,_,5,5,"p",0),p.YNc(1,T,2,1,"p",1)),2&e&&(p.Q6J("ngIf",t.sender||t.date),p.xp6(1),p.Q6J("ngIf",t.message))},directives:[r.O5],pipes:[r.uU],encapsulation:2,changeDetection:0}),e}();function Q(e,t){if(1&e&&p._UZ(0,"nb-icon",7),2&e){var s=p.oxw().$implicit;p.Q6J("icon",s.icon)}}function A(e,t){if(1&e&&p._UZ(0,"div"),2&e){var s=p.oxw().$implicit;p.Udp("background-image",s.urlStyle)}}function I(e,t){if(1&e&&(p.TgZ(0,"a",4),p.YNc(1,Q,1,1,"nb-icon",5),p.YNc(2,A,1,2,"div",6),p.qZA()),2&e){var s=t.$implicit;p.Q6J("href",s.url,p.LSH),p.xp6(1),p.Q6J("ngIf",!s.urlStyle&&s.icon),p.xp6(1),p.Q6J("ngIf",s.urlStyle)}}function N(e,t){if(1&e&&(p.ynx(0),p.TgZ(1,"div",2),p.YNc(2,I,3,3,"a",3),p.qZA(),p.BQk()),2&e){var s=p.oxw();p.xp6(2),p.Q6J("ngForOf",s.readyFiles)}}function B(e,t){if(1&e&&p._UZ(0,"nb-icon",7),2&e){var s=p.oxw(2);p.Q6J("icon",s.readyFiles[0].icon)}}function U(e,t){if(1&e&&p._UZ(0,"div"),2&e){var s=p.oxw(2);p.Udp("background-image",s.readyFiles[0].urlStyle)}}function Y(e,t){if(1&e&&(p.ynx(0),p.TgZ(1,"a",4),p.YNc(2,B,1,1,"nb-icon",5),p.YNc(3,U,1,2,"div",6),p.qZA(),p.BQk()),2&e){var s=p.oxw();p.xp6(1),p.Q6J("href",s.readyFiles[0].url,p.LSH),p.xp6(1),p.Q6J("ngIf",!s.readyFiles[0].urlStyle&&s.readyFiles[0].icon),p.xp6(1),p.Q6J("ngIf",s.readyFiles[0].urlStyle)}}var j=function(){var e=function(){function e(t,n){s(this,e),this.cd=t,this.domSanitizer=n,this.dateFormat="shortTime"}return a(e,[{key:"files",set:function(e){var t=this;this.readyFiles=(e||[]).map(function(e){var s=t.isImage(e);return Object.assign(Object.assign({},e),{urlStyle:s&&t.domSanitizer.bypassSecurityTrustStyle("url(".concat(e.url,")")),isImage:s})}),this.cd.detectChanges()}},{key:"isImage",value:function(e){var t=e.type;return!!t&&["image/png","image/jpeg","image/gif"].includes(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(p.sBO),p.Y36(m.H7))},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-message-file"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files"},decls:4,vars:7,consts:[[3,"sender","date","dateFormat","message"],[4,"ngIf"],[1,"message-content-group"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"icon",4,"ngIf"],[3,"background-image",4,"ngIf"],[3,"icon"]],template:function(e,t){1&e&&(p.TgZ(0,"nb-chat-message-text",0),p._uU(1),p.qZA(),p.YNc(2,N,3,1,"ng-container",1),p.YNc(3,Y,4,3,"ng-container",1)),2&e&&(p.Q6J("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message),p.xp6(1),p.hij(" ",t.message," "),p.xp6(1),p.Q6J("ngIf",(null==t.readyFiles?null:t.readyFiles.length)>1),p.xp6(1),p.Q6J("ngIf",1===(null==t.readyFiles?null:t.readyFiles.length)))},directives:[O,r.O5,r.sg,h.f],encapsulation:2,changeDetection:0}),e}();function z(e,t){if(1&e&&(p.TgZ(0,"p",3),p._uU(1),p.TgZ(2,"time"),p._uU(3),p.ALo(4,"date"),p.qZA(),p.qZA()),2&e){var s=p.oxw();p.xp6(1),p.hij("",s.sender," "),p.xp6(2),p.Oqu(p.xi3(4,2,s.date,s.dateFormat))}}var E=function(){var e=function e(){s(this,e),this.dateFormat="shortTime"};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-message-quote"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",quote:"quote"},decls:5,vars:4,consts:[["class","sender",4,"ngIf"],[1,"quote"],[3,"message"],[1,"sender"]],template:function(e,t){1&e&&(p.YNc(0,z,5,5,"p",0),p.TgZ(1,"p",1),p._uU(2),p.qZA(),p.TgZ(3,"nb-chat-message-text",2),p._uU(4),p.qZA()),2&e&&(p.Q6J("ngIf",t.sender||t.date),p.xp6(2),p.hij(" ",t.quote," "),p.xp6(1),p.Q6J("message",t.message),p.xp6(1),p.hij(" ",t.message," "))},directives:[r.O5,O],pipes:[r.uU],encapsulation:2,changeDetection:0}),e}(),P=function e(){s(this,e)},H=function(e){return[e]},R=function(){var e=function(){function e(t){s(this,e),this.dateFormat="shortTime",this.mapKey=t.messageGoogleMapKey}return a(e,[{key:"file",get:function(){return{url:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(this.latitude,",").concat(this.longitude,"&zoom=12&size=400x400&key=").concat(this.mapKey),type:"image/png",icon:"location"}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(P))},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-message-map"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",latitude:"latitude",longitude:"longitude"},decls:1,vars:7,consts:[[3,"files","message","sender","date","dateFormat"]],template:function(e,t){1&e&&p._UZ(0,"nb-chat-message-file",0),2&e&&p.Q6J("files",p.VKq(5,H,t.file))("message",t.message)("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)},directives:[j],encapsulation:2,changeDetection:0}),e}();function $(e,t){if(1&e&&p._UZ(0,"nb-chat-avatar",4),2&e){var s=p.oxw();p.Q6J("initials",s.getInitials())("avatarStyle",s.avatarStyle)}}function X(e,t){if(1&e&&p._UZ(0,"nb-chat-message-file",10),2&e){var s=p.oxw(2);p.Q6J("sender",s.sender)("date",s.date)("dateFormat",s.dateFormat)("message",s.message)("files",s.files)}}function G(e,t){if(1&e&&p._UZ(0,"nb-chat-message-quote",11),2&e){var s=p.oxw(2);p.Q6J("sender",s.sender)("date",s.date)("dateFormat",s.dateFormat)("message",s.message)("quote",s.quote)}}function L(e,t){if(1&e&&p._UZ(0,"nb-chat-message-map",12),2&e){var s=p.oxw(2);p.Q6J("sender",s.sender)("date",s.date)("message",s.message)("latitude",s.latitude)("longitude",s.longitude)}}function V(e,t){if(1&e&&p._UZ(0,"nb-chat-message-text",13),2&e){var s=p.oxw(2);p.Q6J("sender",s.sender)("date",s.date)("dateFormat",s.dateFormat)("message",s.message)}}function W(e,t){if(1&e&&(p.ynx(0,5),p.YNc(1,X,1,5,"nb-chat-message-file",6),p.YNc(2,G,1,5,"nb-chat-message-quote",7),p.YNc(3,L,1,5,"nb-chat-message-map",8),p.YNc(4,V,1,4,"nb-chat-message-text",9),p.BQk()),2&e){var s=p.oxw();p.Q6J("ngSwitch",s.type),p.xp6(1),p.Q6J("ngSwitchCase","file"),p.xp6(1),p.Q6J("ngSwitchCase","quote"),p.xp6(1),p.Q6J("ngSwitchCase","map")}}function K(e,t){if(1&e&&(p._UZ(0,"nb-chat-message-text",13),p.TgZ(1,"div"),p.GkF(2,14),p.qZA()),2&e){var s=p.oxw();p.Q6J("sender",s.sender)("date",s.date)("dateFormat",s.dateFormat)("message",s.message),p.xp6(1),p.ekj("nb-custom-message",s._areDefaultStylesEnabled())("nb-custom-message-no-space",s._addNoSpaceClass)("nb-custom-message-reply",s._addReplyClass)("nb-custom-message-not-reply",s._addNotReplyClass)("nb-custom-message-full-width",!s._areDefaultStylesEnabled()),p.xp6(1),p.Q6J("ngTemplateOutlet",s._getTemplate())("ngTemplateOutletContext",s._getTemplateContext())}}var ee=function(){var e=function(){function e(t,n){s(this,e),this.domSanitizer=t,this.customMessageService=n,this.builtInMessageTypes=["text","file","map","quote"],this._reply=!1}return a(e,[{key:"_addReplyClass",get:function(){return this._areDefaultStylesEnabled()&&this.reply}},{key:"_addNotReplyClass",get:function(){return this._areDefaultStylesEnabled()&&this.notReply}},{key:"_addNoSpaceClass",get:function(){return this._areDefaultStylesEnabled()&&!this.message}},{key:"flyInOut",get:function(){return!0}},{key:"notReply",get:function(){return!this.reply}},{key:"reply",get:function(){return this._reply},set:function(e){this._reply=(0,g.e)(e)}},{key:"avatar",set:function(e){this.avatarStyle=e?this.domSanitizer.bypassSecurityTrustStyle("url(".concat(e,")")):null}},{key:"getInitials",value:function(){return this.sender?this.sender.split(" ").map(function(e){return e.charAt(0)}).splice(0,2).join("").toUpperCase():""}},{key:"_isBuiltInMessageType",value:function(){return null==this.type||this.builtInMessageTypes.includes(this.type)}},{key:"_getTemplate",value:function(){return this.getCustomMessage(this.type).templateRef}},{key:"_getTemplateContext",value:function(){return{$implicit:this.customMessageData,isReply:this.reply}}},{key:"_areDefaultStylesEnabled",value:function(){return!this.getCustomMessage(this.type).noStyles}},{key:"getCustomMessage",value:function(e){var t=this.customMessageService.getInstance(e);if(!t)throw new Error("nb-chat: Can't find template for custom type '".concat(e,"'. Make sure you provide it in the chat component with *nbCustomMessage='").concat(e,"'."));return t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(m.H7),p.Y36(q))},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-message"]],hostVars:5,hostBindings:function(e,t){2&e&&(p.d8E("@flyInOut",t.flyInOut),p.ekj("not-reply",t.notReply)("reply",t.reply))},inputs:{reply:"reply",message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files",quote:"quote",latitude:"latitude",longitude:"longitude",avatar:"avatar",type:"type",customMessageData:"customMessageData"},decls:5,vars:3,consts:[[3,"initials","avatarStyle",4,"ngIf"],[1,"message"],[3,"ngSwitch",4,"ngIf","ngIfElse"],["customTemplate",""],[3,"initials","avatarStyle"],[3,"ngSwitch"],[3,"sender","date","dateFormat","message","files",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message","quote",4,"ngSwitchCase"],[3,"sender","date","message","latitude","longitude",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message",4,"ngSwitchDefault"],[3,"sender","date","dateFormat","message","files"],[3,"sender","date","dateFormat","message","quote"],[3,"sender","date","message","latitude","longitude"],[3,"sender","date","dateFormat","message"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e&&(p.YNc(0,$,1,2,"nb-chat-avatar",0),p.TgZ(1,"div",1),p.YNc(2,W,5,4,"ng-container",2),p.qZA(),p.YNc(3,K,3,16,"ng-template",null,3,p.W1O)),2&e){var s=p.MAs(4);p.Q6J("ngIf",t.notReply),p.xp6(2),p.Q6J("ngIf",t._isBuiltInMessageType())("ngIfElse",s)}},directives:[r.O5,S,r.RF,r.n9,r.ED,j,E,R,O,r.tP],encapsulation:2,data:{animation:[(0,D.X$)("flyInOut",[(0,D.SB)("in",(0,D.oB)({transform:"translateX(0)"})),(0,D.eR)("void => *",[(0,D.oB)({transform:"translateX(-100%)"}),(0,D.jt)(80)]),(0,D.eR)("* => void",[(0,D.jt)(80,(0,D.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0}),e}(),te=i(49649),se=["scrollable"];function ne(e,t){if(1&e&&(p.TgZ(0,"p",6),p._uU(1),p.qZA()),2&e){var s=p.oxw();p.xp6(1),p.Oqu(s.noMessagesPlaceholder)}}var ae=[[["nb-chat-message"]],[["nb-chat-form"]]],ie=["nb-chat-message","nb-chat-form"],re=function(){var e=function(){function e(t){s(this,e),this.statusService=t,this.status="basic",this.noMessagesPlaceholder="No messages yet.",this._scrollBottom=!0}return a(e,[{key:"scrollBottom",get:function(){return this._scrollBottom},set:function(e){this._scrollBottom=(0,g.e)(e)}},{key:"ngOnChanges",value:function(e){"status"in e&&this.updateFormStatus()}},{key:"ngAfterContentInit",value:function(){this.updateFormStatus()}},{key:"ngAfterViewInit",value:function(){var e=this;this.messages.changes.subscribe(function(t){e.messages=t,e.updateView()}),this.updateView()}},{key:"updateView",value:function(){this.scrollBottom&&this.scrollListBottom()}},{key:"scrollListBottom",value:function(){this.scrollable.nativeElement.scrollTop=this.scrollable.nativeElement.scrollHeight}},{key:"updateFormStatus",value:function(){this.chatForm&&this.chatForm.setStatus(this.status)}},{key:"tiny",get:function(){return"tiny"===this.size}},{key:"small",get:function(){return"small"===this.size}},{key:"medium",get:function(){return"medium"===this.size}},{key:"large",get:function(){return"large"===this.size}},{key:"giant",get:function(){return"giant"===this.size}},{key:"primary",get:function(){return"primary"===this.status}},{key:"success",get:function(){return"success"===this.status}},{key:"info",get:function(){return"info"===this.status}},{key:"warning",get:function(){return"warning"===this.status}},{key:"danger",get:function(){return"danger"===this.status}},{key:"basic",get:function(){return"basic"===this.status}},{key:"control",get:function(){return"control"===this.status}},{key:"additionalClasses",get:function(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(te.Y))},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat"]],contentQueries:function(e,t,s){var n;(1&e&&(p.Suo(s,J,5),p.Suo(s,ee,4)),2&e)&&(p.iGM(n=p.CRH())&&(t.chatForm=n.first),p.iGM(n=p.CRH())&&(t.messages=n))},viewQuery:function(e,t){var s;(1&e&&p.Gf(se,5),2&e)&&(p.iGM(s=p.CRH())&&(t.scrollable=s.first))},hostVars:26,hostBindings:function(e,t){2&e&&(p.Tol(t.additionalClasses),p.ekj("size-tiny",t.tiny)("size-small",t.small)("size-medium",t.medium)("size-large",t.large)("size-giant",t.giant)("status-primary",t.primary)("status-success",t.success)("status-info",t.info)("status-warning",t.warning)("status-danger",t.danger)("status-basic",t.basic)("status-control",t.control))},inputs:{title:"title",size:"size",status:"status",noMessagesPlaceholder:"noMessagesPlaceholder",scrollBottom:"scrollBottom"},features:[p._Bn([q]),p.TTD],ngContentSelectors:ie,decls:9,vars:2,consts:[[1,"header"],[1,"scrollable"],["scrollable",""],[1,"messages"],["class","no-messages",4,"ngIf"],[1,"form"],[1,"no-messages"]],template:function(e,t){1&e&&(p.F$t(ae),p.TgZ(0,"div",0),p._uU(1),p.qZA(),p.TgZ(2,"div",1,2),p.TgZ(4,"div",3),p.Hsn(5),p.YNc(6,ne,2,1,"p",4),p.qZA(),p.qZA(),p.TgZ(7,"div",5),p.Hsn(8,1),p.qZA()),2&e&&(p.xp6(1),p.Oqu(t.title),p.xp6(5),p.Q6J("ngIf",!(null!=t.messages&&t.messages.length)))},directives:[r.O5],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative;height:100%}"]}),e}(),oe=function(){var e=function(){function e(t,n){s(this,e),this.templateRef=t,this.customMessageService=n,this._noStyles=!1}return a(e,[{key:"nbCustomMessage",get:function(){return this._type},set:function(e){this._type=e}},{key:"type",get:function(){return this._type}},{key:"nbCustomMessageNoStyles",get:function(){return this._noStyles},set:function(e){this._noStyles=(0,g.e)(e)}},{key:"noStyles",get:function(){return this.nbCustomMessageNoStyles}},{key:"ngOnInit",value:function(){this._type||function(){throw new Error("[nbCustomMessage]: custom message type is required.")}(),this.customMessageService.register(this.type,this)}},{key:"ngOnDestroy",value:function(){this.customMessageService.unregister(this.type)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(p.Rgc),p.Y36(q))},e.\u0275dir=p.lG2({type:e,selectors:[["","nbCustomMessage",""]],inputs:{nbCustomMessage:"nbCustomMessage",nbCustomMessageNoStyles:"nbCustomMessageNoStyles"}}),e}(),ue=function(){var e=function(){function e(){s(this,e)}return a(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:P,useValue:t||{}}]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[{provide:P,useValue:t||{}}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[o.P,c.K,l.n,u.T]]}),e}(),le=i(32937),ce=i(10494);function ge(e,t){if(1&e&&p._UZ(0,"nb-chat-message",4),2&e){var s=t.$implicit;p.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("avatar",s.user.avatar)}}function pe(e,t){if(1&e){var s=p.EpF();p.TgZ(0,"nb-chat",1),p.YNc(1,ge,1,7,"nb-chat-message",2),p.TgZ(2,"nb-chat-form",3),p.NdJ("send",function(e){var t=p.CHM(s).$implicit;return p.oxw().sendMessage(t.messages,e)}),p.qZA(),p.qZA()}if(2&e){var n=t.$implicit;p.Q6J("title",n.title)("status",n.status),p.xp6(1),p.Q6J("ngForOf",n.messages)}}var me=function(){var e=function(){function e(){s(this,e),this.chats=[{status:"success",title:"Nebular Conversational UI Success",messages:[{text:"Success!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"danger",title:"Nebular Conversational UI Danger",messages:[{text:"Danger!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"primary",title:"Nebular Conversational UI Primary",messages:[{text:"Primary!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"info",title:"Nebular Conversational UI Info",messages:[{text:"Info!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"warning",title:"Nebular Conversational UI Warning",messages:[{text:"Warning!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]}]}return a(e,[{key:"sendMessage",value:function(e,t){e.push({text:t.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-colors"]],decls:1,vars:1,consts:[["size","small",3,"title","status",4,"ngFor","ngForOf"],["size","small",3,"title","status"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(e,t){1&e&&p.YNc(0,pe,3,3,"nb-chat",0),2&e&&p.Q6J("ngForOf",t.chats)},directives:[r.sg,re,J,ee],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;margin:.5rem 0 2rem 2rem}"]}),e}();function fe(e,t){if(1&e&&p._UZ(0,"nb-chat-message",4),2&e){var s=t.$implicit;p.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("quote",s.quote)("latitude",s.latitude)("longitude",s.longitude)("avatar",s.user.avatar)}}function de(e,t){if(1&e&&p._UZ(0,"nb-chat-message",4),2&e){var s=t.$implicit;p.Q6J("type",s.type)("message",s.text)("reply",!s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("quote",s.quote)("latitude",s.latitude)("longitude",s.longitude)("avatar",s.user.avatar)}}var he=function(){var e=function(){function e(){s(this,e),this.messages=[]}return a(e,[{key:"sendMessage",value:function(e,t,s,n){var a=e.files?e.files.map(function(e){return{url:e.src,type:e.type,icon:"file-text-outline"}}):[];this.messages.push({text:e.message,date:new Date,reply:n,type:a.length?"file":"text",files:a,user:{name:t,avatar:s}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-conversation-showcase"]],decls:6,vars:6,consts:[["title","Jake","size","medium","status","warning"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"showButton","dropFiles","send"],["title","John","size","medium","status","success"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(e,t){1&e&&(p.TgZ(0,"nb-chat",0),p.YNc(1,fe,1,10,"nb-chat-message",1),p.TgZ(2,"nb-chat-form",2),p.NdJ("send",function(e){return t.sendMessage(e,"Jake","http://www.reactiongifs.com/r/wnd1.gif",!0)}),p.qZA(),p.qZA(),p.TgZ(3,"nb-chat",3),p.YNc(4,de,1,10,"nb-chat-message",1),p.TgZ(5,"nb-chat-form",2),p.NdJ("send",function(e){return t.sendMessage(e,"John","https://i.gifer.com/no.gif",!1)}),p.qZA(),p.qZA()),2&e&&(p.xp6(1),p.Q6J("ngForOf",t.messages),p.xp6(1),p.Q6J("showButton",!1)("dropFiles",!0),p.xp6(2),p.Q6J("ngForOf",t.messages),p.xp6(1),p.Q6J("showButton",!1)("dropFiles",!0))},directives:[re,r.sg,J,ee],styles:["nb-layout-column{display:flex;justify-content:center}[_nghost-%COMP%]{display:flex}nb-chat[_ngcontent-%COMP%]{width:300px;margin:1rem}"]}),e}();function ye(e,t){if(1&e&&p._UZ(0,"nb-chat-message",3),2&e){var s=t.$implicit;p.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("avatar",s.user.avatar)}}var ve=function(){var e=function(){function e(){s(this,e),this.messages=[{text:"Drag & drop a file or a group of files.",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://i.gifer.com/no.gif"}}]}return a(e,[{key:"sendMessage",value:function(e){var t=e.files?e.files.map(function(e){return{url:e.src,type:e.type,icon:"file-text-outline"}}):[];this.messages.push({text:e.message,date:new Date,files:t,type:t.length?"file":"text",reply:!0,user:{name:"Jonh Doe",avatar:"https://i.gifer.com/no.gif"}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-drop"]],decls:3,vars:2,consts:[["title","Drag & Drop chat","size","medium"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(e,t){1&e&&(p.TgZ(0,"nb-chat",0),p.YNc(1,ye,1,7,"nb-chat-message",1),p.TgZ(2,"nb-chat-form",2),p.NdJ("send",function(e){return t.sendMessage(e)}),p.qZA(),p.qZA()),2&e&&(p.xp6(1),p.Q6J("ngForOf",t.messages),p.xp6(1),p.Q6J("dropFiles",!0))},directives:[re,r.sg,J,ee],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;height:80vw}"]}),e}(),be=function(){return{url:"http://www.reactiongifs.com/r/wnd1.gif",type:"image/gif"}},we=function(e){return[e]},xe=function(){return{url:"https://picsum.photos/320/240/?image=387",type:"image/jpeg"}},Fe=function(){return{url:"http://google.com",icon:"file-text-outline"}},Me=function(e,t,s){return[e,t,s]},Ze=function(){var e=function e(){s(this,e),this.date=new Date};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-message-type-showcase"]],decls:7,vars:35,consts:[["title","Message Types","size","large"],["message","Gif message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"],["message","Image message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"],["message","Map message","type","map","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","latitude","longitude"],["message","File message","type","file","sender","John Doe",3,"reply","date","files","avatar"],["message","Quote message","type","quote","sender","John Doe","quote","Quooted message here","avatar","https://i.gifer.com/no.gif",3,"reply","date"],["message","Group of files message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"]],template:function(e,t){1&e&&(p.TgZ(0,"nb-chat",0),p._UZ(1,"nb-chat-message",1),p._UZ(2,"nb-chat-message",2),p._UZ(3,"nb-chat-message",3),p._UZ(4,"nb-chat-message",4),p._UZ(5,"nb-chat-message",5),p._UZ(6,"nb-chat-message",6),p.qZA()),2&e&&(p.xp6(1),p.Q6J("reply",!0)("date",t.date)("files",p.VKq(20,we,p.DdM(19,be))),p.xp6(1),p.Q6J("reply",!0)("date",t.date)("files",p.VKq(23,we,p.DdM(22,xe))),p.xp6(1),p.Q6J("reply",!0)("date",t.date)("latitude",53.914321)("longitude",27.5998355),p.xp6(1),p.Q6J("reply",!0)("date",t.date)("files",p.VKq(26,we,p.DdM(25,Fe)))("avatar","https://i.gifer.com/no.gif"),p.xp6(1),p.Q6J("reply",!0)("date",t.date),p.xp6(1),p.Q6J("reply",!0)("date",t.date)("files",p.kEZ(31,Me,p.DdM(28,Fe),p.DdM(29,xe),p.DdM(30,be))))},directives:[re,ee],styles:["nb-chat[_ngcontent-%COMP%]{margin:0 auto;width:500px}"]}),e}(),ke=[{text:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",reply:!1,date:new Date,user:{name:"John Doe",avatar:"https://i.gifer.com/no.gif"}},{text:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",reply:!0,date:new Date,user:{name:"John Doe",avatar:"https://i.gifer.com/no.gif"}},{text:"Hello, how are you?",reply:!1,date:new Date,user:{name:"John Doe",avatar:""}},{text:"Hey looks at that pic I just found!",reply:!1,date:new Date,type:"file",files:[{url:"https://i.gifer.com/no.gif",type:"image/jpeg",icon:!1}],user:{name:"John Doe",avatar:""}},{text:"What do you mean by that?",reply:!1,date:new Date,type:"quote",quote:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",user:{name:"John Doe",avatar:""}},{text:"Attached is an archive I mentioned",reply:!0,date:new Date,type:"file",files:[{url:"https://i.gifer.com/no.gif",icon:"file-text-outline"}],user:{name:"John Doe",avatar:""}},{text:"Meet me there",reply:!1,date:new Date,type:"map",latitude:40.714728,longitude:-73.998672,user:{name:"John Doe",avatar:""}}],Je="https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png",De=["https://media.tenor.com/images/ac287fd06319e47b1533737662d5bfe8/tenor.gif","https://i.gifer.com/no.gif","https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif","http://www.reactiongifs.com/r/wnd1.gif"],qe=["https://picsum.photos/320/240/?image=357","https://picsum.photos/320/240/?image=556","https://picsum.photos/320/240/?image=339","https://picsum.photos/320/240/?image=387","https://picsum.photos/320/240/?image=30","https://picsum.photos/320/240/?image=271"],Ce="http://google.com",Se=[{regExp:/([H,h]ey)|([H,h]i)/g,answerArray:["Hello!","Yes?","Yes, milord?","What can I do for you?"],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:Je}}},{regExp:/([H,h]elp)/g,answerArray:['No problem! Try sending a message containing word "hey", "image",\n    "gif", "file", "map", "quote", "file group" to see different message components'],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:Je}}},{regExp:/([I,i]mage)|(IMAGE)|([P,p]ic)|(Picture)/g,answerArray:["Hey look at this!","Ready to work","Yes, master."],type:"pic",reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"",type:"image/jpeg"}],user:{name:"Bot",avatar:Je}}},{regExp:/([G,g]if)|(GIF)/g,type:"gif",answerArray:["No problem","Well done","You got it man"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"",type:"image/gif"}],user:{name:"Bot",avatar:Je}}},{regExp:/([F,f]ile group)|(FILE)/g,type:"group",answerArray:["Take it!","Job Done.","As you wish"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:Ce,icon:"file-text-outline"},{url:"",type:"image/gif"},{url:"",type:"image/jpeg"}],icon:"file-text-outline",user:{name:"Bot",avatar:Je}}},{regExp:/([F,f]ile)|(FILE)/g,type:"file",answerArray:["Take it!","Job Done.","As you wish"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:Ce,icon:"file-text-outline"}],icon:"file-text-outline",user:{name:"Bot",avatar:Je}}},{regExp:/([M,m]ap)|(MAP)/g,type:"map",answerArray:["Done.","My sight is yours.","I shall be your eyes."],reply:{text:"",reply:!1,date:new Date,type:"map",latitude:53.914321,longitude:27.5998355,user:{name:"Bot",avatar:Je}}},{regExp:/([Q,q]uote)|(QUOTE)/g,type:"quote",answerArray:["Quoted!","Say no more.","I gladly obey."],reply:{text:"",reply:!1,date:new Date,type:"quote",quote:"",user:{name:"Bot",avatar:Je}}},{regExp:/(.*)/g,answerArray:['Hello there! Try typing "help"'],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:Je}}}],_e=function(){var e=function(){function e(){s(this,e)}return a(e,[{key:"loadMessages",value:function(){return ke}},{key:"loadBotReplies",value:function(){return Se}},{key:"reply",value:function(e){var t=this.loadBotReplies().find(function(t){return-1!==e.search(t.regExp)});return"quote"===t.reply.type&&(t.reply.quote=e),"gif"===t.type&&(t.reply.files[0].url=De[Math.floor(Math.random()*De.length)]),"pic"===t.type&&(t.reply.files[0].url=qe[Math.floor(Math.random()*qe.length)]),"group"===t.type&&(t.reply.files[1].url=De[Math.floor(Math.random()*De.length)],t.reply.files[2].url=qe[Math.floor(Math.random()*qe.length)]),t.reply.text=t.answerArray[Math.floor(Math.random()*t.answerArray.length)],Object.assign({},t.reply)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e}();function Te(e,t){if(1&e&&p._UZ(0,"nb-chat-message",3),2&e){var s=t.$implicit;p.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("quote",s.quote)("latitude",s.latitude)("longitude",s.longitude)("avatar",s.user.avatar)}}var Oe=function(){var e=function(){function e(t){s(this,e),this.chatShowcaseService=t,this.messages=this.chatShowcaseService.loadMessages()}return a(e,[{key:"sendMessage",value:function(e){var t=this,s=e.files?e.files.map(function(e){return{url:e.src,type:e.type,icon:"file-text-outline"}}):[];this.messages.push({text:e.message,date:new Date,reply:!0,type:s.length?"file":"text",files:s,user:{name:"Jonh Doe",avatar:"https://i.gifer.com/no.gif"}});var n=this.chatShowcaseService.reply(e.message);n&&setTimeout(function(){t.messages.push(n)},500)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(_e))},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-showcase"]],features:[p._Bn([_e])],decls:3,vars:2,consts:[["title","Nebular Conversational UI","size","large"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(e,t){1&e&&(p.TgZ(0,"nb-chat",0),p.YNc(1,Te,1,10,"nb-chat-message",1),p.TgZ(2,"nb-chat-form",2),p.NdJ("send",function(e){return t.sendMessage(e)}),p.qZA(),p.qZA()),2&e&&(p.xp6(1),p.Q6J("ngForOf",t.messages),p.xp6(1),p.Q6J("dropFiles",!0))},directives:[re,r.sg,J,ee],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px}"]}),e}();function Qe(e,t){if(1&e&&p._UZ(0,"nb-chat-message",4),2&e){var s=t.$implicit;p.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("avatar",s.user.avatar)}}function Ae(e,t){if(1&e){var s=p.EpF();p.TgZ(0,"nb-chat",1),p.YNc(1,Qe,1,7,"nb-chat-message",2),p.TgZ(2,"nb-chat-form",3),p.NdJ("send",function(e){var t=p.CHM(s).$implicit;return p.oxw().sendMessage(t.messages,e)}),p.qZA(),p.qZA()}if(2&e){var n=t.$implicit;p.Q6J("title",n.title)("size",n.size),p.xp6(1),p.Q6J("ngForOf",n.messages)}}var Ie=function(){var e=function(){function e(){s(this,e),this.chats=[{title:"Nebular Conversational UI Small",messages:[{text:"Small!",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://i.gifer.com/no.gif"}}],size:"small"},{title:"Nebular Conversational UI Medium",messages:[{text:"Medium!",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}],size:"large"}]}return a(e,[{key:"sendMessage",value:function(e,t){e.push({text:t.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-sizes"]],decls:1,vars:1,consts:[["status","info",3,"title","size",4,"ngFor","ngForOf"],["status","info",3,"title","size"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(e,t){1&e&&p.YNc(0,Ae,3,3,"nb-chat",0),2&e&&p.Q6J("ngForOf",t.chats)},directives:[r.sg,re,J,ee],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;margin:.5rem 0 2rem 2rem}"]}),e}();function Ne(e,t){if(1&e&&p._UZ(0,"nb-chat-message",4),2&e){var s=t.$implicit;p.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("files",s.files)("quote",s.quote)("latitude",s.latitude)("longitude",s.longitude)("avatar",s.user.avatar)}}function Be(e,t){if(1&e){var s=p.EpF();p.TgZ(0,"nb-chat",1),p.YNc(1,Ne,1,10,"nb-chat-message",2),p.TgZ(2,"nb-chat-form",3),p.NdJ("send",function(e){return p.CHM(s),p.oxw().sendMessage(e)}),p.qZA(),p.qZA()}if(2&e){var n=t.$implicit,a=p.oxw();p.Q6J("size",n.size)("status",n.status),p.xp6(1),p.Q6J("ngForOf",a.messages)}}var Ue=function(){var e=function(){function e(){s(this,e),this.messages=[],this.sizes=["tiny","small","medium","large","giant"],this.statuses=["primary","success","info","warning","danger"],this.chats=this.prepareChats()}return a(e,[{key:"prepareChats",value:function(){var e=this,t=[];return this.statuses.forEach(function(s){e.sizes.forEach(function(e){t.push({size:e,status:s})})}),t}},{key:"sendMessage",value:function(e){this.messages.push({text:e.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-chat-test"]],decls:1,vars:1,consts:[[3,"size","status",4,"ngFor","ngForOf"],[3,"size","status"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(e,t){1&e&&p.YNc(0,Be,3,3,"nb-chat",0),2&e&&p.Q6J("ngForOf",t.chats)},directives:[r.sg,re,J,ee],encapsulation:2}),e}();function Ye(e,t){if(1&e&&(p.TgZ(0,"th"),p._uU(1),p.qZA()),2&e){var s=t.$implicit;p.xp6(1),p.Oqu(s)}}function je(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.qZA()),2&e){var s=t.$implicit;p.xp6(2),p.Oqu(s.firstName),p.xp6(2),p.Oqu(s.lastName),p.xp6(2),p.Oqu(s.age)}}var ze=function(){var e=function e(){s(this,e),this.columns=[],this.rows=[]};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["nb-custom-message-table"]],hostVars:2,hostBindings:function(e,t){2&e&&p.ekj("reply",t.isReply)},inputs:{columns:"columns",rows:"rows",isReply:"isReply"},decls:6,vars:2,consts:[[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(p.TgZ(0,"table"),p.TgZ(1,"thead"),p.TgZ(2,"tr"),p.YNc(3,Ye,2,1,"th",0),p.qZA(),p.qZA(),p.TgZ(4,"tbody"),p.YNc(5,je,7,3,"tr",0),p.qZA(),p.qZA()),2&e&&(p.xp6(3),p.Q6J("ngForOf",t.columns),p.xp6(2),p.Q6J("ngForOf",t.rows))},directives:[r.sg],styles:["[_nghost-%COMP%]{display:block;margin-top:.5rem;padding:1rem;border-radius:.5rem}.reply[_nghost-%COMP%]{background:#f7f9fc}[dir=ltr]   .reply[_nghost-%COMP%]{border-top-right-radius:0}[dir=rtl]   .reply[_nghost-%COMP%]{border-top-left-radius:0}[_nghost-%COMP%]:not(.reply){background:#3366ff;color:#fff}[dir=ltr]   [_nghost-%COMP%]:not(.reply){border-top-left-radius:0}[dir=rtl]   [_nghost-%COMP%]:not(.reply){border-top-right-radius:0}table[_ngcontent-%COMP%]{width:100%}"]}),e}();function Ee(e,t){if(1&e&&(p.TgZ(0,"a",7),p._uU(1),p.qZA()),2&e){var s=t.$implicit;p.Q6J("href",s.href,p.LSH),p.xp6(1),p.hij(" ",s.text," ")}}function Pe(e,t){if(1&e){var s=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"p",8),p._uU(2,"Wow! Button in a message!"),p.qZA(),p.TgZ(3,"button",9),p.NdJ("click",function(){return p.CHM(s),p.oxw(),p.MAs(1).scrollListBottom()}),p._uU(4),p.qZA(),p.qZA()}if(2&e){var n=t.$implicit;p.xp6(4),p.hij(" ",n," ")}}function He(e,t){if(1&e&&p._UZ(0,"nb-custom-message-table",10),2&e){var s=t.$implicit,n=t.isReply;p.Q6J("columns",s.columns)("rows",s.rows)("isReply",n)}}function Re(e,t){if(1&e&&p._UZ(0,"nb-chat-message",11),2&e){var s=t.$implicit;p.Q6J("type",s.type)("message",s.text)("reply",s.reply)("sender",s.user.name)("date",s.date)("customMessageData",s.customMessageData)}}var $e=[{path:"chat-colors.component",component:me},{path:"chat-conversation-showcase.component",component:he},{path:"chat-drop.component",component:ve},{path:"chat-message-types-showcase.component",component:Ze},{path:"chat-showcase.component",component:Oe},{path:"chat-sizes.component",component:Ie},{path:"chat-test.component",component:Ue},{path:"chat-custom-message.component",component:function(){var e=function(){function e(){s(this,e),this.tableData={columns:["First Name","Last Name","Age"],rows:[{firstName:"Robert",lastName:"Baratheon",age:46},{firstName:"Jaime",lastName:"Lannister",age:31}]},this.messages=[]}return a(e,[{key:"ngOnInit",value:function(){this.loadMessages()}},{key:"sendMessage",value:function(e){this.messages.push({text:e.message,date:new Date,reply:!0,type:"text",user:{name:"Gandalf the Grey",avatar:"https://i.gifer.com/no.gif"}})}},{key:"loadMessages",value:function(){this.messages=[{type:"link",text:"Now you able to use links!",customMessageData:{href:"https://akveo.github.io/nebular/",text:"Go to Nebular"},reply:!1,date:new Date,user:{name:"Frodo Baggins",avatar:"https://i.gifer.com/no.gif"}},{type:"link",customMessageData:{href:"https://akveo.github.io/ngx-admin/",text:"Go to ngx-admin"},reply:!0,date:new Date,user:{name:"Meriadoc Brandybuck",avatar:"https://i.gifer.com/no.gif"}},{type:"button",customMessageData:"Click to scroll down",reply:!1,date:new Date,user:{name:"Gimli Gloin",avatar:""}},{type:"table",text:"Now let's try to add a table",customMessageData:this.tableData,reply:!1,date:new Date,user:{name:"Fredegar Bolger",avatar:"https://i.gifer.com/no.gif"}},{type:"table",text:"And one more table but now in the reply",customMessageData:this.tableData,reply:!0,date:new Date,user:{name:"Fredegar Bolger",avatar:"https://i.gifer.com/no.gif"}}]}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["ng-component"]],decls:7,vars:7,consts:[["title","Nebular Conversational UI","size","large",3,"scrollBottom"],["chatComponent",""],["target","_blank",3,"href",4,"nbCustomMessage"],[4,"nbCustomMessage"],[3,"columns","rows","isReply",4,"nbCustomMessage","nbCustomMessageNoStyles"],[3,"type","message","reply","sender","date","customMessageData",4,"ngFor","ngForOf"],[3,"dropFiles","send"],["target","_blank",3,"href"],[1,"text-control","button-custom-message-text"],["nbButton","","status","control",3,"click"],[3,"columns","rows","isReply"],[3,"type","message","reply","sender","date","customMessageData"]],template:function(e,t){1&e&&(p.TgZ(0,"nb-chat",0,1),p.YNc(2,Ee,2,2,"a",2),p.YNc(3,Pe,5,1,"div",3),p.YNc(4,He,1,3,"nb-custom-message-table",4),p.YNc(5,Re,1,6,"nb-chat-message",5),p.TgZ(6,"nb-chat-form",6),p.NdJ("send",function(e){return t.sendMessage(e)}),p.qZA(),p.qZA()),2&e&&(p.Q6J("scrollBottom",!1),p.xp6(2),p.Q6J("nbCustomMessage","link"),p.xp6(1),p.Q6J("nbCustomMessage","button"),p.xp6(1),p.Q6J("nbCustomMessage","table")("nbCustomMessageNoStyles",!0),p.xp6(1),p.Q6J("ngForOf",t.messages),p.xp6(1),p.Q6J("dropFiles",!1))},directives:[re,oe,r.sg,J,y.D,ze,ee],styles:["nb-chat[_ngcontent-%COMP%]{width:500px;margin:0 auto}img[_ngcontent-%COMP%]{width:100%;height:auto}.button-custom-message-text[_ngcontent-%COMP%]{margin-top:0}"],changeDetection:0}),e}()}],Xe=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[ce.Bz.forChild($e)],ce.Bz]}),e}(),Ge=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[r.ez,ue.forRoot(),le.z,u.T,Xe]]}),e}()}}])}();