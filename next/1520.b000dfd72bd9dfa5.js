"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1520],{74088:(A,P,n)=>{n.d(P,{s:()=>U});var i=n(83668),I=n(53314),C=n(88178),y=n(48212);function t(b){const{subscriber:g,counter:p,period:m}=b;g.next(p),this.schedule({subscriber:g,counter:p+1,period:m},m)}var a=n(23405),c=n(69279),r=n(22411),h=n(36813),T=n(18735),f=n(79204),N=n(28805),O=n(6636),Z=n(38053),E=n(38580),w=n(59490),F=n(69627),D=n(39468);let U=(()=>{class b{constructor(p,m,v){this.elementRef=p,this.scrollService=m,this.dimensionsService=v,this.destroy$=new a.xQ,this.windowScroll=!1,this.bottomThreshold=new i.vpe(!0),this.topThreshold=new i.vpe(!0)}get elementScroll(){return!this.windowScroll}set listenWindowScroll(p){this.windowScroll=(0,E.e)(p)}onElementScroll(){this.elementScroll&&this.checkPosition(this.elementRef.nativeElement)}ngAfterViewInit(){this.scrollService.onScroll().pipe((0,T.h)(()=>this.windowScroll),(0,f.w)(()=>this.getContainerDimensions()),(0,N.R)(this.destroy$)).subscribe(p=>this.checkPosition(p)),this.listItems.changes.pipe((0,f.w)(()=>function(b=0,g=C.P){return(!(0,y.k)(b)||b<0)&&(b=0),(!g||"function"!=typeof g.schedule)&&(g=C.P),new I.y(p=>(p.add(g.schedule(t,b,{subscriber:p,counter:0,period:b})),p))}(50).pipe((0,T.h)(()=>this.inSyncWithDom()),(0,O.q)(1),(0,N.R)((0,c.H)(1e3)))),(0,f.w)(()=>this.getContainerDimensions()),(0,N.R)(this.destroy$)).subscribe(p=>this.checkPosition(p)),this.getContainerDimensions().subscribe(p=>this.checkPosition(p))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}checkPosition({scrollHeight:p,scrollTop:m,clientHeight:v}){const L=null==this.lastScrollPosition,_=m<this.lastScrollPosition;(L||this.lastScrollPosition===m||m>this.lastScrollPosition)&&p-m-v<=this.threshold&&this.bottomThreshold.emit(),(L||_)&&m<=this.threshold&&this.topThreshold.emit(),this.lastScrollPosition=m}getContainerDimensions(){if(this.elementScroll){const{scrollTop:p,scrollHeight:m,clientHeight:v}=this.elementRef.nativeElement;return(0,r.of)({scrollTop:p,scrollHeight:m,clientHeight:v})}return(0,h.D)([this.scrollService.getPosition(),this.dimensionsService.getDimensions()]).pipe((0,Z.U)(([p,m])=>({scrollTop:p.y,scrollHeight:m.scrollHeight,clientHeight:m.clientHeight})))}inSyncWithDom(){return this.elementRef.nativeElement.children.length===this.listItems.length}}return b.\u0275fac=function(p){return new(p||b)(i.Y36(i.SBq),i.Y36(F.H),i.Y36(D.m))},b.\u0275dir=i.lG2({type:b,selectors:[["","nbInfiniteList",""]],contentQueries:function(p,m,v){if(1&p&&i.Suo(v,w.q,4),2&p){let L;i.iGM(L=i.CRH())&&(m.listItems=L)}},hostBindings:function(p,m){1&p&&i.NdJ("scroll",function(){return m.onElementScroll()})},inputs:{threshold:"threshold",listenWindowScroll:"listenWindowScroll"},outputs:{bottomThreshold:"bottomThreshold",topThreshold:"topThreshold"}}),b})()},6283:(A,P,n)=>{n.d(P,{B:()=>u});var i=n(83668),I=n(28805),C=n(23405),y=n(59490);let u=(()=>{class t{constructor(){this.destroy$=new C.xQ,this.startPage=1,this.pageChange=new i.vpe,this.observer=new IntersectionObserver(c=>this.checkForPageChange(c),{threshold:.5})}ngAfterViewInit(){this.listItems&&this.listItems.length&&this.observeItems(),this.listItems.changes.pipe((0,I.R)(this.destroy$)).subscribe(()=>this.observeItems())}ngOnDestroy(){this.observer.disconnect&&this.observer.disconnect()}observeItems(){this.listItems.forEach(c=>this.observer.observe(c.nativeElement))}checkForPageChange(c){const r=this.findMostVisiblePage(c);r&&this.currentPage!==r&&(this.currentPage=r,this.pageChange.emit(this.currentPage))}findMostVisiblePage(c){const r=new Map;for(const f of c){if(f.intersectionRatio<.5)continue;const N=this.elementIndex(f.target);if(-1===N)continue;const O=this.startPage+Math.floor(N/this.pageSize);let Z=f.intersectionRatio;r.has(O)&&(Z+=r.get(O)),r.set(O,Z)}let T,h=0;return r.forEach((f,N)=>{f>h&&(h=f,T=N)}),T}elementIndex(c){return c.parentElement&&c.parentElement.children?Array.from(c.parentElement.children).indexOf(c):-1}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","nbListPageTracker",""]],contentQueries:function(c,r,h){if(1&c&&i.Suo(h,y.q,4,i.SBq),2&c){let T;i.iGM(T=i.CRH())&&(r.listItems=T)}},inputs:{pageSize:"pageSize",startPage:"startPage"},outputs:{pageChange:"pageChange"}}),t})()},59490:(A,P,n)=>{n.d(P,{z:()=>u,q:()=>t});var i=n(83668);const I=[[["nb-list-item"]]],C=["nb-list-item"],y=["*"];let u=(()=>{class a{constructor(){this.role="list"}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["nb-list"]],hostVars:1,hostBindings:function(r,h){2&r&&i.uIk("role",h.role)},inputs:{role:"role"},ngContentSelectors:C,decls:1,vars:0,template:function(r,h){1&r&&(i.F$t(I),i.Hsn(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;overflow:auto}"]}),a})(),t=(()=>{class a{constructor(){this.role="listitem"}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["nb-list-item"]],hostVars:1,hostBindings:function(r,h){2&r&&i.uIk("role",h.role)},inputs:{role:"role"},ngContentSelectors:y,decls:1,vars:0,template:function(r,h){1&r&&(i.F$t(),i.Hsn(0))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-shrink:0}"]}),a})()},62335:(A,P,n)=>{n.d(P,{C:()=>t}),n(59490),n(6283),n(74088);var y=n(83668);let t=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=y.oAB({type:a}),a.\u0275inj=y.cJS({}),a})()},7895:(A,P,n)=>{n.d(P,{Q:()=>t});var i=n(83668),I=n(40163),C=n(86019);function y(a,c){if(1&a&&(i.TgZ(0,"span",2),i._uU(1),i.qZA()),2&a){const r=i.oxw();i.xp6(1),i.Oqu(r.message)}}let u=(()=>{class a{constructor(r){this.statusService=r,this.message="Loading...",this.size="medium",this.status="basic"}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(I.Y))},a.\u0275cmp=i.Xpm({type:a,selectors:[["nb-spinner"]],hostVars:26,hostBindings:function(r,h){2&r&&(i.Tol(h.additionalClasses),i.ekj("size-tiny",h.tiny)("size-small",h.small)("size-medium",h.medium)("size-large",h.large)("size-giant",h.giant)("status-primary",h.primary)("status-info",h.info)("status-success",h.success)("status-warning",h.warning)("status-danger",h.danger)("status-basic",h.basic)("status-control",h.control))},inputs:{message:"message",size:"size",status:"status"},decls:2,vars:1,consts:[[1,"spin-circle"],["class","message",4,"ngIf"],[1,"message"]],template:function(r,h){1&r&&(i._UZ(0,"span",0),i.YNc(1,y,2,1,"span",1)),2&r&&(i.xp6(1),i.Q6J("ngIf",h.message))},directives:[C.O5],styles:["[_nghost-%COMP%]{opacity:1;position:absolute;border-radius:inherit;top:0;right:0;left:0;bottom:0;overflow:hidden;z-index:9999;display:flex;justify-content:center;align-items:center;visibility:visible}[_nghost-%COMP%]   .spin-circle[_ngcontent-%COMP%]{animation:spin .8s infinite linear;border-radius:50%;border-style:solid;border-width:.125em;width:1em;height:1em}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{margin-left:.5rem}"]}),a})(),t=(()=>{class a{constructor(r,h,T,f){this.directiveView=r,this.componentFactoryResolver=h,this.renderer=T,this.directiveElement=f,this.shouldShow=!1,this.spinnerStatus="basic",this.spinnerSize="medium",this.isSpinnerExist=!1}set nbSpinner(r){this.componentFactory?r?this.show():this.hide():this.shouldShow=r}ngOnInit(){this.componentFactory=this.componentFactoryResolver.resolveComponentFactory(u),this.shouldShow&&this.show()}hide(){this.isSpinnerExist&&(this.directiveView.remove(),this.isSpinnerExist=!1)}show(){this.isSpinnerExist||(this.spinner=this.directiveView.createComponent(this.componentFactory),this.setInstanceInputs(this.spinner.instance),this.spinner.changeDetectorRef.detectChanges(),this.renderer.appendChild(this.directiveElement.nativeElement,this.spinner.location.nativeElement),this.isSpinnerExist=!0)}setInstanceInputs(r){r.message=this.spinnerMessage,void 0!==this.spinnerStatus&&(r.status=this.spinnerStatus),void 0!==this.spinnerSize&&(r.size=this.spinnerSize)}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(i.s_b),i.Y36(i._Vd),i.Y36(i.Qsj),i.Y36(i.SBq))},a.\u0275dir=i.lG2({type:a,selectors:[["","nbSpinner",""]],hostVars:2,hostBindings:function(r,h){2&r&&i.ekj("nb-spinner-container",h.isSpinnerExist)},inputs:{spinnerMessage:["nbSpinnerMessage","spinnerMessage"],spinnerStatus:["nbSpinnerStatus","spinnerStatus"],spinnerSize:["nbSpinnerSize","spinnerSize"],nbSpinner:"nbSpinner"}}),a})()},41520:(A,P,n)=>{n.r(P),n.d(P,{InfiniteListModule:()=>ht});var i=n(86019),I=n(62335),C=n(85082),y=n(11907),u=n(24301),t=n(83668),a=n(33596),c=n(6636),r=n(97434),h=n(95165),T=n(63507),f=n(97084);function O(s,l,e){return 0===e?[l]:(s.push(l),s)}var E=n(93049),w=n(59490),F=n(38053),D=n(5250),Y=n(44522);let g=(()=>{class s{constructor(e){this.http=e}load(e,o){const d=(e-1)%7*o;return this.http.get("assets/data/news.json").pipe((0,F.U)(S=>S.splice(d,o)),(0,D.g)(1500))}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(Y.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})();var p=n(69627),m=n(39468),v=n(60634),L=n(74088),R=n(6283);let _=(()=>{class s{constructor(){this.label="Loading"}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["nb-news-post-placeholder"]],hostVars:1,hostBindings:function(e,o){2&e&&t.uIk("aria-label",o.label)},decls:3,vars:0,consts:[[1,"title-placeholder"],[1,"text-placeholder"],[1,"link-placeholder"]],template:function(e,o){1&e&&(t._UZ(0,"div",0),t._UZ(1,"div",1),t._UZ(2,"div",2))},styles:["[_nghost-%COMP%]{display:block;width:100%}.title-placeholder[_ngcontent-%COMP%]{height:1.8rem;margin-bottom:.5rem;width:80%}.text-placeholder[_ngcontent-%COMP%]{height:4rem;margin-bottom:1rem}.link-placeholder[_ngcontent-%COMP%]{height:1.25rem;width:5rem}.nb-theme-default   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#e4e9f2}.nb-theme-dark   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#101426}.nb-theme-cosmic   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#13132b}.nb-theme-corporate   [_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:#e4e9f2}"]}),s})(),x=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["nb-news-post"]],inputs:{post:"post"},decls:7,vars:3,consts:[[1,"h5"]],template:function(e,o){1&e&&(t.TgZ(0,"article"),t.TgZ(1,"h2",0),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"a"),t._uU(6,"Read full article"),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(o.post.title),t.xp6(2),t.Oqu(o.post.text),t.xp6(1),t.uIk("href",o.post.link,t.LSH))},encapsulation:2}),s})();function Q(s,l){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}function W(s,l){if(1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post",2),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Q6J("post",e)}}function $(s,l){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}let V=(()=>{class s{constructor(e,o,d,S,M,z,B){this.newsService=e,this.router=o,this.route=d,this.scrollService=S,this.layoutService=M,this.platformId=z,this.window=B,this.news=[],this.topPlaceholders=[],this.bottomPlaceholders=[],this.pageSize=10,this.loadingNext=!1,this.loadingPrevious=!1,(0,i.NF)(this.platformId)&&this.window.history.scrollRestoration&&(this.initialScrollRestoration=B.history.scrollRestoration,history.scrollRestoration="manual")}ngOnInit(){const{page:e}=this.route.snapshot.queryParams;this.startPage=e?Number.parseInt(e,10):100,this.pageToLoadNext=this.startPage}ngOnDestroy(){this.initialScrollRestoration&&(this.window.history.scrollRestoration=this.initialScrollRestoration)}updateUrl(e){this.router.navigate(["."],{queryParams:{page:e},replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge"})}loadPrevious(){this.loadingPrevious||1===this.startPage||(this.loadingPrevious=!0,this.topPlaceholders=new Array(this.pageSize),this.restoreScrollPosition(),this.startPage--,this.newsService.load(this.startPage,this.pageSize).subscribe(e=>{this.topPlaceholders=[],this.news.unshift(...e),this.loadingPrevious=!1},e=>this.startPage++))}loadNext(){this.loadingNext||(this.loadingNext=!0,this.bottomPlaceholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(e=>{this.bottomPlaceholders=[],this.news.push(...e),this.loadingNext=!1,this.pageToLoadNext++}))}restoreScrollPosition(){(0,a.z)(this.layoutService.getDimensions(),this.scrollService.getPosition(),this.listItems.changes.pipe((0,c.q)(1)),this.layoutService.getDimensions(),this.scrollService.getPosition()).pipe(function(s,l){return arguments.length>=2?function(o){return(0,f.z)((0,r.R)(s,l),(0,h.h)(1),(0,T.d)(l))(o)}:function(o){return(0,f.z)((0,r.R)((d,S,M)=>s(d,S,M+1)),(0,h.h)(1))(o)}}(O,[])).subscribe(([e,o,,d,S])=>{const H=S.y,J=d.scrollHeight-e.scrollHeight;o.y+J!==H&&this.scrollService.scrollTo(null,H+J)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(g),t.Y36(u.F0),t.Y36(u.gz),t.Y36(p.H),t.Y36(m.m),t.Y36(t.Lbi),t.Y36(E.Q3))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(e,o){if(1&e&&t.Gf(w.q,5,t.SBq),2&e){let d;t.iGM(d=t.CRH())&&(o.listItems=d)}},features:[t._Bn([g])],decls:5,vars:6,consts:[["nbInfiniteList","","listenWindowScroll","","nbListPageTracker","",3,"threshold","pageSize","startPage","topThreshold","bottomThreshold","pageChange"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(e,o){1&e&&(t.TgZ(0,"nb-card"),t.TgZ(1,"nb-list",0),t.NdJ("topThreshold",function(){return o.loadPrevious()})("bottomThreshold",function(){return o.loadNext()})("pageChange",function(S){return o.updateUrl(S)}),t.YNc(2,Q,2,0,"nb-list-item",1),t.YNc(3,W,2,1,"nb-list-item",1),t.YNc(4,$,2,0,"nb-list-item",1),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("threshold",500)("pageSize",o.pageSize)("startPage",o.startPage),t.xp6(1),t.Q6J("ngForOf",o.topPlaceholders),t.xp6(1),t.Q6J("ngForOf",o.news),t.xp6(1),t.Q6J("ngForOf",o.bottomPlaceholders))},directives:[v.As,w.z,L.s,R.B,i.sg,w.q,_,x],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),s})();function j(s,l){if(1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post",4),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Q6J("post",e)}}function G(s,l){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}function K(s,l){if(1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post",4),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Q6J("post",e)}}function X(s,l){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}let k=(()=>{class s{constructor(e){this.newsService=e,this.firstCard={news:[],placeholders:[],loading:!1,pageToLoadNext:1},this.secondCard={news:[],placeholders:[],loading:!1,pageToLoadNext:1},this.pageSize=10}loadNext(e){e.loading||(e.loading=!0,e.placeholders=new Array(this.pageSize),this.newsService.load(e.pageToLoadNext,this.pageSize).subscribe(o=>{e.placeholders=[],e.news.push(...o),e.loading=!1,e.pageToLoadNext++}))}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(g))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],features:[t._Bn([g])],decls:12,vars:6,consts:[[1,"own-scroll"],["nbInfiniteList","",3,"threshold","bottomThreshold"],[4,"ngFor","ngForOf"],["nbInfiniteList","","listenWindowScroll","",3,"threshold","bottomThreshold"],[3,"post"]],template:function(e,o){1&e&&(t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header"),t._uU(2," Own scroll "),t.qZA(),t.TgZ(3,"nb-list",1),t.NdJ("bottomThreshold",function(){return o.loadNext(o.firstCard)}),t.YNc(4,j,2,1,"nb-list-item",2),t.YNc(5,G,2,0,"nb-list-item",2),t.qZA(),t.qZA(),t.TgZ(6,"nb-card"),t.TgZ(7,"nb-card-header"),t._uU(8," Window scroll "),t.qZA(),t.TgZ(9,"nb-list",3),t.NdJ("bottomThreshold",function(){return o.loadNext(o.secondCard)}),t.YNc(10,K,2,1,"nb-list-item",2),t.YNc(11,X,2,0,"nb-list-item",2),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("threshold",500),t.xp6(1),t.Q6J("ngForOf",o.firstCard.news),t.xp6(1),t.Q6J("ngForOf",o.firstCard.placeholders),t.xp6(4),t.Q6J("threshold",500),t.xp6(1),t.Q6J("ngForOf",o.secondCard.news),t.xp6(1),t.Q6J("ngForOf",o.secondCard.placeholders))},directives:[v.As,v.nd,w.z,L.s,i.sg,w.q,x,_],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}","[_nghost-%COMP%]{display:flex}nb-card[_ngcontent-%COMP%]{flex:1 1 45%;margin:0 2.5%}nb-card.own-scroll[_ngcontent-%COMP%]{height:30rem}"]}),s})();function q(s,l){if(1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post",2),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Q6J("post",e)}}function tt(s,l){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}let et=(()=>{class s{constructor(e){this.newsService=e,this.news=[],this.placeholders=[],this.pageSize=10,this.pageToLoadNext=1,this.loading=!1}loadNext(){this.loading||(this.loading=!0,this.placeholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(e=>{this.placeholders=[],this.news.push(...e),this.loading=!1,this.pageToLoadNext++}))}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(g))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],features:[t._Bn([g])],decls:4,vars:3,consts:[["nbInfiniteList","","listenWindowScroll","",3,"threshold","bottomThreshold"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(e,o){1&e&&(t.TgZ(0,"nb-card"),t.TgZ(1,"nb-list",0),t.NdJ("bottomThreshold",function(){return o.loadNext()}),t.YNc(2,q,2,1,"nb-list-item",1),t.YNc(3,tt,2,0,"nb-list-item",1),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("threshold",500),t.xp6(1),t.Q6J("ngForOf",o.news),t.xp6(1),t.Q6J("ngForOf",o.placeholders))},directives:[v.As,w.z,L.s,i.sg,w.q,x,_],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),s})();var st=n(18735),nt=n(7895);function it(s,l){if(1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post",3),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Q6J("post",e)}}function ot(s,l){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}function lt(s,l){const e=s.getComputedStyle(l),o=parseInt(e.getPropertyValue("margin-top"),10),d=parseInt(e.getPropertyValue("margin-bottom"),10);return l.offsetHeight+o+d}const at=[{path:"infinite-list-placeholders.component",component:V},{path:"infinite-list-scroll-modes.component",component:k},{path:"infinite-list-showcase.component",component:et},{path:"infinite-news-list.component",component:(()=>{class s{constructor(e,o,d,S,M,z){this.newsService=e,this.router=o,this.route=d,this.scrollService=S,this.platformId=M,this.window=z,this.news=[],this.placeholders=[],this.pageSize=10,this.loadingNext=!1,this.loadingPrevious=!1,(0,i.NF)(this.platformId)&&this.window.history.scrollRestoration&&(this.initialScrollRestoration=z.history.scrollRestoration,history.scrollRestoration="manual")}ngOnInit(){const{page:e}=this.route.snapshot.queryParams;this.startPage=e?Number.parseInt(e,10):1,this.pageToLoadNext=this.startPage}ngOnDestroy(){this.initialScrollRestoration&&(this.window.history.scrollRestoration=this.initialScrollRestoration)}updateUrl(e){this.router.navigate(["."],{queryParams:{page:e},replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge"})}loadPrevious(){this.loadingPrevious||1===this.startPage||(this.loadingPrevious=!0,this.newsService.load(this.startPage-1,this.pageSize).subscribe(e=>{this.news.unshift(...e),this.loadingPrevious=!1,this.restoreScrollPosition(),this.startPage--}))}loadNext(){this.loadingNext||(this.loadingNext=!0,this.placeholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(e=>{this.placeholders=[],this.news.push(...e),this.loadingNext=!1,this.pageToLoadNext++}))}restoreScrollPosition(){const e=this.listItems.length>0?this.listItems.first.nativeElement:null;this.listItems.changes.pipe((0,F.U)(()=>this.listItems.first.nativeElement),(0,st.h)(o=>o!==e),(0,c.q)(1)).subscribe(()=>{let o=0;for(const{nativeElement:d}of this.listItems.toArray()){if(d===e)break;o+=lt(this.window,d)}this.scrollService.scrollTo(null,o)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(g),t.Y36(u.F0),t.Y36(u.gz),t.Y36(p.H),t.Y36(t.Lbi),t.Y36(E.Q3))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(e,o){if(1&e&&t.Gf(w.q,5,t.SBq),2&e){let d;t.iGM(d=t.CRH())&&(o.listItems=d)}},features:[t._Bn([g])],decls:5,vars:6,consts:[[3,"nbSpinner"],["nbInfiniteList","","listenWindowScroll","","nbListPageTracker","",3,"threshold","pageSize","startPage","topThreshold","bottomThreshold","pageChange"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(e,o){1&e&&(t.TgZ(0,"nb-card"),t._UZ(1,"div",0),t.TgZ(2,"nb-list",1),t.NdJ("topThreshold",function(){return o.loadPrevious()})("bottomThreshold",function(){return o.loadNext()})("pageChange",function(S){return o.updateUrl(S)}),t.YNc(3,it,2,1,"nb-list-item",2),t.YNc(4,ot,2,0,"nb-list-item",2),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("nbSpinner",o.loadingPrevious),t.xp6(1),t.Q6J("threshold",500)("pageSize",o.pageSize)("startPage",o.startPage),t.xp6(1),t.Q6J("ngForOf",o.news),t.xp6(1),t.Q6J("ngForOf",o.placeholders))},directives:[v.As,nt.Q,w.z,L.s,R.B,i.sg,w.q,x,_],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),s})()}];let ct=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[u.Bz.forChild(at)],u.Bz]}),s})(),ht=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[i.ez,I.C,C.z,y.u,ct]]}),s})()}}]);