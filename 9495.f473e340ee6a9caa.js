"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9495],{49495:(lt,Z,l)=>{l.r(Z),l.d(Z,{ChatModule:()=>rt});var r=l(86019),k=l(35861),S=l(66630),j=l(22625),H=l(43004),C=l(38580),e=l(83668),b=l(35427),R=l(83191),v=l(49133),D=l(35492),J=l(2563);function E(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"span",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).removeFile(o)}),e._uU(2,"\xd7"),e.qZA(),e.qZA()}if(2&s){const t=e.oxw().$implicit;e.Udp("background-image",t.urlStyle)}}function P(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"nb-icon",9),e.TgZ(2,"span",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).removeFile(o)}),e._uU(3,"\xd7"),e.qZA(),e.qZA()}}function $(s,n){if(1&s&&(e.ynx(0),e.YNc(1,E,3,2,"div",6),e.YNc(2,P,4,0,"div",7),e.BQk()),2&s){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.urlStyle),e.xp6(1),e.Q6J("ngIf",!t.urlStyle)}}function X(s,n){if(1&s&&(e.TgZ(0,"div",4),e.YNc(1,$,3,2,"ng-container",5),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.droppedFiles)}}function G(s,n){if(1&s&&e._UZ(0,"nb-icon",13),2&s){const t=e.oxw(2);e.Q6J("icon",t.buttonIcon)}}function L(s,n){if(1&s&&e._uU(0),2&s){const t=e.oxw(2);e.Oqu(t.buttonTitle)}}function V(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().sendMessage()}),e.YNc(1,G,1,1,"nb-icon",11),e.YNc(2,L,1,1,"ng-template",null,12,e.W1O),e.qZA()}if(2&s){const t=e.MAs(3),a=e.oxw();e.ekj("with-icon",!a.buttonTitle),e.Q6J("status",a.getButtonStatus()),e.xp6(1),e.Q6J("ngIf",!a.buttonTitle)("ngIfElse",t)}}let m=(()=>{class s{constructor(t,a){this.cd=t,this.domSanitizer=a,this.status="basic",this.inputFocus=!1,this.inputHover=!1,this.droppedFiles=[],this.imgDropTypes=["image/png","image/jpeg","image/gif"],this.message="",this.messagePlaceholder="Type a message",this.buttonTitle="",this.buttonIcon="paper-plane-outline",this.showButton=!0,this.dropFiles=!1,this.dropFilePlaceholder="Drop file to send",this.send=new e.vpe,this.onInputChange=new e.vpe,this.fileOver=!1}onDrop(t){if(this.dropFiles&&(t.preventDefault(),t.stopPropagation(),this.fileOver=!1,t.dataTransfer&&t.dataTransfer.files))for(const a of t.dataTransfer.files){const o=a;if(this.imgDropTypes.includes(a.type)){const i=new FileReader;i.onload=h=>{o.src=h.target.result,o.urlStyle=this.domSanitizer.bypassSecurityTrustStyle(`url(${o.src})`),this.cd.detectChanges()},i.readAsDataURL(a)}this.droppedFiles.push(o)}}removeFile(t){const a=this.droppedFiles.indexOf(t);a>=0&&this.droppedFiles.splice(a,1)}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.dropFiles&&(this.fileOver=!0)}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.dropFiles&&(this.fileOver=!1)}sendMessage(){(this.droppedFiles.length||String(this.message).trim().length)&&(this.send.emit({message:this.message,files:this.droppedFiles}),this.message="",this.droppedFiles=[])}setStatus(t){this.status!==t&&(this.status=t,this.cd.detectChanges())}getInputStatus(){return this.fileOver?this.getHighlightStatus():this.inputFocus||this.inputHover?this.status:"basic"}getButtonStatus(){return this.getHighlightStatus()}getHighlightStatus(){return"basic"===this.status||"control"===this.status?"primary":this.status}onModelChange(t){this.onInputChange.emit(t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.sBO),e.Y36(b.H7))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-form"]],hostVars:2,hostBindings:function(t,a){1&t&&e.NdJ("drop",function(i){return a.onDrop(i)})("dragover",function(i){return a.onDragOver(i)})("dragleave",function(i){return a.onDragLeave(i)}),2&t&&e.ekj("file-over",a.fileOver)},inputs:{message:"message",messagePlaceholder:"messagePlaceholder",buttonTitle:"buttonTitle",buttonIcon:"buttonIcon",showButton:"showButton",dropFiles:"dropFiles",dropFilePlaceholder:"dropFilePlaceholder"},outputs:{send:"send",onInputChange:"onInputChange"},decls:4,vars:7,consts:[["class","dropped-files",4,"ngIf"],[1,"message-row"],["nbInput","","fullWidth","","type","text",3,"status","ngModel","placeholder","focus","blur","mouseenter","mouseleave","ngModelChange","keyup.enter"],["nbButton","","class","send-button",3,"status","with-icon","click",4,"ngIf"],[1,"dropped-files"],[4,"ngFor","ngForOf"],[3,"background-image",4,"ngIf"],[4,"ngIf"],[1,"remove",3,"click"],["icon","file-text-outline","pack","nebular-essentials"],["nbButton","",1,"send-button",3,"status","click"],["pack","nebular-essentials",3,"icon",4,"ngIf","ngIfElse"],["title",""],["pack","nebular-essentials",3,"icon"]],template:function(t,a){1&t&&(e.YNc(0,X,2,1,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"input",2),e.NdJ("focus",function(){return a.inputFocus=!0})("blur",function(){return a.inputFocus=!1})("mouseenter",function(){return a.inputHover=!0})("mouseleave",function(){return a.inputHover=!1})("ngModelChange",function(i){return a.message=i})("ngModelChange",function(i){return a.onModelChange(i)})("keyup.enter",function(){return a.sendMessage()}),e.qZA(),e.YNc(3,V,4,5,"button",3),e.qZA()),2&t&&(e.Q6J("ngIf",null==a.droppedFiles?null:a.droppedFiles.length),e.xp6(2),e.ekj("with-button",a.showButton),e.s9C("placeholder",a.fileOver?a.dropFilePlaceholder:a.messagePlaceholder),e.Q6J("status",a.getInputStatus())("ngModel",a.message),e.xp6(1),e.Q6J("ngIf",a.showButton))},directives:[r.O5,R.h,v.Fj,v.JJ,v.On,r.sg,D.f,J.D],encapsulation:2,changeDetection:0}),s})();var u=l(69814);let T=(()=>{class s{constructor(){this.customMessages=new Map}register(t,a){this.customMessages.set(t,a)}unregister(t){return this.customMessages.delete(t)}getInstance(t){return this.customMessages.get(t)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})();function W(s,n){if(1&s&&(e.ynx(0),e._uU(1),e.BQk()),2&s){const t=e.oxw();e.xp6(1),e.hij(" ",t.initials," ")}}let O=(()=>{class s{constructor(){this.avatarClass=!0}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-avatar"]],hostVars:4,hostBindings:function(t,a){2&t&&(e.Udp("background-image",a.avatarStyle),e.ekj("avatar",a.avatarClass))},inputs:{initials:"initials",avatarStyle:"avatarStyle"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,a){1&t&&e.YNc(0,W,2,1,"ng-container",0),2&t&&e.Q6J("ngIf",!a.avatarStyle)},directives:[r.O5],encapsulation:2,changeDetection:0}),s})();function K(s,n){if(1&s&&(e.TgZ(0,"p",2),e._uU(1),e.TgZ(2,"time"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij("",t.sender," "),e.xp6(2),e.Oqu(e.xi3(4,2,t.date,t.dateFormat))}}function ee(s,n){if(1&s&&(e.TgZ(0,"p",3),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Oqu(t.message)}}let d=(()=>{class s{constructor(){this.dateFormat="shortTime"}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message-text"]],inputs:{sender:"sender",message:"message",date:"date",dateFormat:"dateFormat"},decls:2,vars:2,consts:[["class","sender",4,"ngIf"],["class","text",4,"ngIf"],[1,"sender"],[1,"text"]],template:function(t,a){1&t&&(e.YNc(0,K,5,5,"p",0),e.YNc(1,ee,2,1,"p",1)),2&t&&(e.Q6J("ngIf",a.sender||a.date),e.xp6(1),e.Q6J("ngIf",a.message))},directives:[r.O5],pipes:[r.uU],encapsulation:2,changeDetection:0}),s})();function te(s,n){if(1&s&&e._UZ(0,"nb-icon",7),2&s){const t=e.oxw().$implicit;e.Q6J("icon",t.icon)}}function se(s,n){if(1&s&&e._UZ(0,"div"),2&s){const t=e.oxw().$implicit;e.Udp("background-image",t.urlStyle)}}function ae(s,n){if(1&s&&(e.TgZ(0,"a",4),e.YNc(1,te,1,1,"nb-icon",5),e.YNc(2,se,1,2,"div",6),e.qZA()),2&s){const t=n.$implicit;e.Q6J("href",t.url,e.LSH),e.xp6(1),e.Q6J("ngIf",!t.urlStyle&&t.icon),e.xp6(1),e.Q6J("ngIf",t.urlStyle)}}function ne(s,n){if(1&s&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,ae,3,3,"a",3),e.qZA(),e.BQk()),2&s){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.readyFiles)}}function oe(s,n){if(1&s&&e._UZ(0,"nb-icon",7),2&s){const t=e.oxw(2);e.Q6J("icon",t.readyFiles[0].icon)}}function ie(s,n){if(1&s&&e._UZ(0,"div"),2&s){const t=e.oxw(2);e.Udp("background-image",t.readyFiles[0].urlStyle)}}function re(s,n){if(1&s&&(e.ynx(0),e.TgZ(1,"a",4),e.YNc(2,oe,1,1,"nb-icon",5),e.YNc(3,ie,1,2,"div",6),e.qZA(),e.BQk()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("href",t.readyFiles[0].url,e.LSH),e.xp6(1),e.Q6J("ngIf",!t.readyFiles[0].urlStyle&&t.readyFiles[0].icon),e.xp6(1),e.Q6J("ngIf",t.readyFiles[0].urlStyle)}}let x=(()=>{class s{constructor(t,a){this.cd=t,this.domSanitizer=a,this.dateFormat="shortTime"}set files(t){this.readyFiles=(t||[]).map(a=>{const o=this.isImage(a);return Object.assign(Object.assign({},a),{urlStyle:o&&this.domSanitizer.bypassSecurityTrustStyle(`url(${a.url})`),isImage:o})}),this.cd.detectChanges()}isImage(t){const a=t.type;return!!a&&["image/png","image/jpeg","image/gif"].includes(a)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.sBO),e.Y36(b.H7))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message-file"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files"},decls:4,vars:7,consts:[[3,"sender","date","dateFormat","message"],[4,"ngIf"],[1,"message-content-group"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"icon",4,"ngIf"],[3,"background-image",4,"ngIf"],[3,"icon"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat-message-text",0),e._uU(1),e.qZA(),e.YNc(2,ne,3,1,"ng-container",1),e.YNc(3,re,4,3,"ng-container",1)),2&t&&(e.Q6J("sender",a.sender)("date",a.date)("dateFormat",a.dateFormat)("message",a.message),e.xp6(1),e.hij(" ",a.message," "),e.xp6(1),e.Q6J("ngIf",(null==a.readyFiles?null:a.readyFiles.length)>1),e.xp6(1),e.Q6J("ngIf",1===(null==a.readyFiles?null:a.readyFiles.length)))},directives:[d,r.O5,r.sg,D.f],encapsulation:2,changeDetection:0}),s})();function le(s,n){if(1&s&&(e.TgZ(0,"p",3),e._uU(1),e.TgZ(2,"time"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.hij("",t.sender," "),e.xp6(2),e.Oqu(e.xi3(4,2,t.date,t.dateFormat))}}let Q=(()=>{class s{constructor(){this.dateFormat="shortTime"}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message-quote"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",quote:"quote"},decls:5,vars:4,consts:[["class","sender",4,"ngIf"],[1,"quote"],[3,"message"],[1,"sender"]],template:function(t,a){1&t&&(e.YNc(0,le,5,5,"p",0),e.TgZ(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"nb-chat-message-text",2),e._uU(4),e.qZA()),2&t&&(e.Q6J("ngIf",a.sender||a.date),e.xp6(2),e.hij(" ",a.quote," "),e.xp6(1),e.Q6J("message",a.message),e.xp6(1),e.hij(" ",a.message," "))},directives:[r.O5,d],pipes:[r.uU],encapsulation:2,changeDetection:0}),s})();class w{}const ce=function(s){return[s]};let q=(()=>{class s{constructor(t){this.dateFormat="shortTime",this.mapKey=t.messageGoogleMapKey}get file(){return{url:`https://maps.googleapis.com/maps/api/staticmap?center=${this.latitude},${this.longitude}&zoom=12&size=400x400&key=${this.mapKey}`,type:"image/png",icon:"location"}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(w))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message-map"]],inputs:{message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",latitude:"latitude",longitude:"longitude"},decls:1,vars:7,consts:[[3,"files","message","sender","date","dateFormat"]],template:function(t,a){1&t&&e._UZ(0,"nb-chat-message-file",0),2&t&&e.Q6J("files",e.VKq(5,ce,a.file))("message",a.message)("sender",a.sender)("date",a.date)("dateFormat",a.dateFormat)},directives:[x],encapsulation:2,changeDetection:0}),s})();function me(s,n){if(1&s&&e._UZ(0,"nb-chat-avatar",4),2&s){const t=e.oxw();e.Q6J("initials",t.getInitials())("avatarStyle",t.avatarStyle)}}function pe(s,n){if(1&s&&e._UZ(0,"nb-chat-message-file",10),2&s){const t=e.oxw(2);e.Q6J("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message)("files",t.files)}}function ue(s,n){if(1&s&&e._UZ(0,"nb-chat-message-quote",11),2&s){const t=e.oxw(2);e.Q6J("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message)("quote",t.quote)}}function ge(s,n){if(1&s&&e._UZ(0,"nb-chat-message-map",12),2&s){const t=e.oxw(2);e.Q6J("sender",t.sender)("date",t.date)("message",t.message)("latitude",t.latitude)("longitude",t.longitude)}}function he(s,n){if(1&s&&e._UZ(0,"nb-chat-message-text",13),2&s){const t=e.oxw(2);e.Q6J("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message)}}function de(s,n){if(1&s&&(e.ynx(0,5),e.YNc(1,pe,1,5,"nb-chat-message-file",6),e.YNc(2,ue,1,5,"nb-chat-message-quote",7),e.YNc(3,ge,1,5,"nb-chat-message-map",8),e.YNc(4,he,1,4,"nb-chat-message-text",9),e.BQk()),2&s){const t=e.oxw();e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","file"),e.xp6(1),e.Q6J("ngSwitchCase","quote"),e.xp6(1),e.Q6J("ngSwitchCase","map")}}function fe(s,n){if(1&s&&(e._UZ(0,"nb-chat-message-text",13),e.TgZ(1,"div"),e.GkF(2,14),e.qZA()),2&s){const t=e.oxw();e.Q6J("sender",t.sender)("date",t.date)("dateFormat",t.dateFormat)("message",t.message),e.xp6(1),e.ekj("nb-custom-message",t._areDefaultStylesEnabled())("nb-custom-message-no-space",t._addNoSpaceClass)("nb-custom-message-reply",t._addReplyClass)("nb-custom-message-not-reply",t._addNotReplyClass)("nb-custom-message-full-width",!t._areDefaultStylesEnabled()),e.xp6(1),e.Q6J("ngTemplateOutlet",t._getTemplate())("ngTemplateOutletContext",t._getTemplateContext())}}let c=(()=>{class s{constructor(t,a){this.domSanitizer=t,this.customMessageService=a,this.builtInMessageTypes=["text","file","map","quote"],this._reply=!1}get _addReplyClass(){return this._areDefaultStylesEnabled()&&this.reply}get _addNotReplyClass(){return this._areDefaultStylesEnabled()&&this.notReply}get _addNoSpaceClass(){return this._areDefaultStylesEnabled()&&!this.message}get flyInOut(){return!0}get notReply(){return!this.reply}get reply(){return this._reply}set reply(t){this._reply=(0,C.e)(t)}set avatar(t){this.avatarStyle=t?this.domSanitizer.bypassSecurityTrustStyle(`url(${t})`):null}getInitials(){return this.sender?this.sender.split(" ").map(a=>a.charAt(0)).splice(0,2).join("").toUpperCase():""}_isBuiltInMessageType(){return null==this.type||this.builtInMessageTypes.includes(this.type)}_getTemplate(){return this.getCustomMessage(this.type).templateRef}_getTemplateContext(){return{$implicit:this.customMessageData,isReply:this.reply}}_areDefaultStylesEnabled(){return!this.getCustomMessage(this.type).noStyles}getCustomMessage(t){const a=this.customMessageService.getInstance(t);if(!a)throw new Error(`nb-chat: Can't find template for custom type '${t}'. Make sure you provide it in the chat component with *nbCustomMessage='${t}'.`);return a}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(b.H7),e.Y36(T))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message"]],hostVars:5,hostBindings:function(t,a){2&t&&(e.d8E("@flyInOut",a.flyInOut),e.ekj("not-reply",a.notReply)("reply",a.reply))},inputs:{reply:"reply",message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files",quote:"quote",latitude:"latitude",longitude:"longitude",avatar:"avatar",type:"type",customMessageData:"customMessageData"},decls:5,vars:3,consts:[[3,"initials","avatarStyle",4,"ngIf"],[1,"message"],[3,"ngSwitch",4,"ngIf","ngIfElse"],["customTemplate",""],[3,"initials","avatarStyle"],[3,"ngSwitch"],[3,"sender","date","dateFormat","message","files",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message","quote",4,"ngSwitchCase"],[3,"sender","date","message","latitude","longitude",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message",4,"ngSwitchDefault"],[3,"sender","date","dateFormat","message","files"],[3,"sender","date","dateFormat","message","quote"],[3,"sender","date","message","latitude","longitude"],[3,"sender","date","dateFormat","message"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,a){if(1&t&&(e.YNc(0,me,1,2,"nb-chat-avatar",0),e.TgZ(1,"div",1),e.YNc(2,de,5,4,"ng-container",2),e.qZA(),e.YNc(3,fe,3,16,"ng-template",null,3,e.W1O)),2&t){const o=e.MAs(4);e.Q6J("ngIf",a.notReply),e.xp6(2),e.Q6J("ngIf",a._isBuiltInMessageType())("ngIfElse",o)}},directives:[r.O5,O,r.RF,r.n9,r.ED,x,Q,q,d,r.tP],encapsulation:2,data:{animation:[(0,u.X$)("flyInOut",[(0,u.SB)("in",(0,u.oB)({transform:"translateX(0)"})),(0,u.eR)("void => *",[(0,u.oB)({transform:"translateX(-100%)"}),(0,u.jt)(80)]),(0,u.eR)("* => void",[(0,u.jt)(80,(0,u.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0}),s})(),M=(()=>{class s{constructor(t){this.templateRef=t,this.context={}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.Rgc))},s.\u0275dir=e.lG2({type:s,selectors:[["","nbChatTitle",""]],inputs:{context:"context"}}),s})();var _e=l(40163);const ye=["scrollable"],Ce=function(s){return{$implicit:s}};function be(s,n){if(1&s&&e.GkF(0,8),2&s){const t=e.oxw();e.Q6J("ngTemplateOutlet",t.titleTemplate.templateRef)("ngTemplateOutletContext",e.VKq(2,Ce,t.titleTemplate.context))}}function ve(s,n){if(1&s&&e._uU(0),2&s){const t=e.oxw();e.hij(" ",t.title," ")}}function Te(s,n){if(1&s&&(e.TgZ(0,"p",9),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Oqu(t.noMessagesPlaceholder)}}const xe=[[["nb-chat-message"]],[["nb-chat-form"]]],we=["nb-chat-message","nb-chat-form"];let p=(()=>{class s{constructor(t){this.statusService=t,this.status="basic",this.noMessagesPlaceholder="No messages yet.",this._scrollBottom=!0}get scrollBottom(){return this._scrollBottom}set scrollBottom(t){this._scrollBottom=(0,C.e)(t)}ngOnChanges(t){"status"in t&&this.updateFormStatus()}ngAfterContentInit(){this.updateFormStatus()}ngAfterViewInit(){this.messages.changes.subscribe(t=>{this.messages=t,this.updateView()}),this.updateView()}updateView(){this.scrollBottom&&this.scrollListBottom()}scrollListBottom(){this.scrollable.nativeElement.scrollTop=this.scrollable.nativeElement.scrollHeight}updateFormStatus(){this.chatForm&&this.chatForm.setStatus(this.status)}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get primary(){return"primary"===this.status}get success(){return"success"===this.status}get info(){return"info"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_e.Y))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat"]],contentQueries:function(t,a,o){if(1&t&&(e.Suo(o,m,5),e.Suo(o,M,5),e.Suo(o,c,4)),2&t){let i;e.iGM(i=e.CRH())&&(a.chatForm=i.first),e.iGM(i=e.CRH())&&(a.titleTemplate=i.first),e.iGM(i=e.CRH())&&(a.messages=i)}},viewQuery:function(t,a){if(1&t&&e.Gf(ye,5),2&t){let o;e.iGM(o=e.CRH())&&(a.scrollable=o.first)}},hostVars:26,hostBindings:function(t,a){2&t&&(e.Tol(a.additionalClasses),e.ekj("size-tiny",a.tiny)("size-small",a.small)("size-medium",a.medium)("size-large",a.large)("size-giant",a.giant)("status-primary",a.primary)("status-success",a.success)("status-info",a.info)("status-warning",a.warning)("status-danger",a.danger)("status-basic",a.basic)("status-control",a.control))},inputs:{title:"title",size:"size",status:"status",noMessagesPlaceholder:"noMessagesPlaceholder",scrollBottom:"scrollBottom"},features:[e._Bn([T]),e.TTD],ngContentSelectors:we,decls:11,vars:3,consts:[[1,"header"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["textTitleTemplate",""],[1,"scrollable"],["scrollable",""],[1,"messages"],["class","no-messages",4,"ngIf"],[1,"form"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"no-messages"]],template:function(t,a){if(1&t&&(e.F$t(xe),e.TgZ(0,"div",0),e.YNc(1,be,1,4,"ng-container",1),e.YNc(2,ve,1,1,"ng-template",null,2,e.W1O),e.qZA(),e.TgZ(4,"div",3,4),e.TgZ(6,"div",5),e.Hsn(7),e.YNc(8,Te,2,1,"p",6),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.Hsn(10,1),e.qZA()),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",a.titleTemplate)("ngIfElse",o),e.xp6(7),e.Q6J("ngIf",!(null!=a.messages&&a.messages.length))}},directives:[r.O5,r.tP],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative;height:100%}"]}),s})(),A=(()=>{class s{constructor(t,a){this.templateRef=t,this.customMessageService=a,this._noStyles=!1}get nbCustomMessage(){return this._type}set nbCustomMessage(t){this._type=t}get type(){return this._type}set nbCustomMessageNoStyles(t){this._noStyles=(0,C.e)(t)}get nbCustomMessageNoStyles(){return this._noStyles}get noStyles(){return this.nbCustomMessageNoStyles}ngOnInit(){this._type||function(){throw new Error("[nbCustomMessage]: custom message type is required.")}(),this.customMessageService.register(this.type,this)}ngOnDestroy(){this.customMessageService.unregister(this.type)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.Rgc),e.Y36(T))},s.\u0275dir=e.lG2({type:s,selectors:[["","nbCustomMessage",""]],inputs:{nbCustomMessage:"nbCustomMessage",nbCustomMessageNoStyles:"nbCustomMessageNoStyles"}}),s})(),Fe=(()=>{class s{static forRoot(t){return{ngModule:s,providers:[{provide:w,useValue:t||{}}]}}static forChild(t){return{ngModule:s,providers:[{provide:w,useValue:t||{}}]}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[k.P,H.K,j.n,S.T]]}),s})();var Ne=l(85082),I=l(24301);function Ze(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("avatar",t.user.avatar)}}function Se(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"nb-chat",1),e.YNc(1,Ze,1,7,"nb-chat-message",2),e.TgZ(2,"nb-chat-form",3),e.NdJ("send",function(o){const h=e.CHM(t).$implicit;return e.oxw().sendMessage(h.messages,o)}),e.qZA(),e.qZA()}if(2&s){const t=n.$implicit;e.Q6J("title",t.title)("status",t.status),e.xp6(1),e.Q6J("ngForOf",t.messages)}}let De=(()=>{class s{constructor(){this.chats=[{status:"success",title:"Nebular Conversational UI Success",messages:[{text:"Success!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"danger",title:"Nebular Conversational UI Danger",messages:[{text:"Danger!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"primary",title:"Nebular Conversational UI Primary",messages:[{text:"Primary!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"info",title:"Nebular Conversational UI Info",messages:[{text:"Info!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]},{status:"warning",title:"Nebular Conversational UI Warning",messages:[{text:"Warning!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]}]}sendMessage(t,a){t.push({text:a.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-colors"]],decls:1,vars:1,consts:[["size","small",3,"title","status",4,"ngFor","ngForOf"],["size","small",3,"title","status"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(t,a){1&t&&e.YNc(0,Se,3,3,"nb-chat",0),2&t&&e.Q6J("ngForOf",a.chats)},directives:[r.sg,p,m,c],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;margin:.5rem 0 2rem 2rem}"]}),s})();function Je(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("quote",t.quote)("latitude",t.latitude)("longitude",t.longitude)("avatar",t.user.avatar)}}function Oe(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",!t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("quote",t.quote)("latitude",t.latitude)("longitude",t.longitude)("avatar",t.user.avatar)}}let Qe=(()=>{class s{constructor(){this.messages=[]}sendMessage(t,a,o,i){const h=t.files?t.files.map(y=>({url:y.src,type:y.type,icon:"file-text-outline"})):[];this.messages.push({text:t.message,date:new Date,reply:i,type:h.length?"file":"text",files:h,user:{name:a,avatar:o}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-conversation-showcase"]],decls:6,vars:6,consts:[["title","Jake","size","medium","status","warning"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"showButton","dropFiles","send"],["title","John","size","medium","status","success"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0),e.YNc(1,Je,1,10,"nb-chat-message",1),e.TgZ(2,"nb-chat-form",2),e.NdJ("send",function(i){return a.sendMessage(i,"Jake","http://www.reactiongifs.com/r/wnd1.gif",!0)}),e.qZA(),e.qZA(),e.TgZ(3,"nb-chat",3),e.YNc(4,Oe,1,10,"nb-chat-message",1),e.TgZ(5,"nb-chat-form",2),e.NdJ("send",function(i){return a.sendMessage(i,"John","https://i.gifer.com/no.gif",!1)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("showButton",!1)("dropFiles",!0),e.xp6(2),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("showButton",!1)("dropFiles",!0))},directives:[p,r.sg,m,c],styles:["nb-layout-column{display:flex;justify-content:center}[_nghost-%COMP%]{display:flex}nb-chat[_ngcontent-%COMP%]{width:300px;margin:1rem}"]}),s})();function qe(s,n){if(1&s&&e._UZ(0,"nb-chat-message",3),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("avatar",t.user.avatar)}}let Ae=(()=>{class s{constructor(){this.messages=[{text:"Drag & drop a file or a group of files.",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://i.gifer.com/no.gif"}}]}sendMessage(t){const a=t.files?t.files.map(o=>({url:o.src,type:o.type,icon:"file-text-outline"})):[];this.messages.push({text:t.message,date:new Date,files:a,type:a.length?"file":"text",reply:!0,user:{name:"Jonh Doe",avatar:"https://i.gifer.com/no.gif"}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-drop"]],decls:3,vars:2,consts:[["title","Drag & Drop chat","size","medium"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0),e.YNc(1,qe,1,7,"nb-chat-message",1),e.TgZ(2,"nb-chat-form",2),e.NdJ("send",function(i){return a.sendMessage(i)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("dropFiles",!0))},directives:[p,r.sg,m,c],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;height:80vw}"]}),s})();const B=function(){return{url:"http://www.reactiongifs.com/r/wnd1.gif",type:"image/gif"}},F=function(s){return[s]},U=function(){return{url:"https://picsum.photos/320/240/?image=387",type:"image/jpeg"}},Y=function(){return{url:"http://google.com",icon:"file-text-outline"}},Ie=function(s,n,t){return[s,n,t]};let Be=(()=>{class s{constructor(){this.date=new Date}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-message-type-showcase"]],decls:7,vars:35,consts:[["title","Message Types","size","large"],["message","Gif message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"],["message","Image message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"],["message","Map message","type","map","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","latitude","longitude"],["message","File message","type","file","sender","John Doe",3,"reply","date","files","avatar"],["message","Quote message","type","quote","sender","John Doe","quote","Quooted message here","avatar","https://i.gifer.com/no.gif",3,"reply","date"],["message","Group of files message","type","file","sender","John Doe","avatar","https://i.gifer.com/no.gif",3,"reply","date","files"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0),e._UZ(1,"nb-chat-message",1),e._UZ(2,"nb-chat-message",2),e._UZ(3,"nb-chat-message",3),e._UZ(4,"nb-chat-message",4),e._UZ(5,"nb-chat-message",5),e._UZ(6,"nb-chat-message",6),e.qZA()),2&t&&(e.xp6(1),e.Q6J("reply",!0)("date",a.date)("files",e.VKq(20,F,e.DdM(19,B))),e.xp6(1),e.Q6J("reply",!0)("date",a.date)("files",e.VKq(23,F,e.DdM(22,U))),e.xp6(1),e.Q6J("reply",!0)("date",a.date)("latitude",53.914321)("longitude",27.5998355),e.xp6(1),e.Q6J("reply",!0)("date",a.date)("files",e.VKq(26,F,e.DdM(25,Y)))("avatar","https://i.gifer.com/no.gif"),e.xp6(1),e.Q6J("reply",!0)("date",a.date),e.xp6(1),e.Q6J("reply",!0)("date",a.date)("files",e.kEZ(31,Ie,e.DdM(28,Y),e.DdM(29,U),e.DdM(30,B))))},directives:[p,c],styles:["nb-chat[_ngcontent-%COMP%]{margin:0 auto;width:500px}"]}),s})();const Ue=[{text:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",reply:!1,date:new Date,user:{name:"John Doe",avatar:"https://i.gifer.com/no.gif"}},{text:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",reply:!0,date:new Date,user:{name:"John Doe",avatar:"https://i.gifer.com/no.gif"}},{text:"Hello, how are you?",reply:!1,date:new Date,user:{name:"John Doe",avatar:""}},{text:"Hey looks at that pic I just found!",reply:!1,date:new Date,type:"file",files:[{url:"https://i.gifer.com/no.gif",type:"image/jpeg",icon:!1}],user:{name:"John Doe",avatar:""}},{text:"What do you mean by that?",reply:!1,date:new Date,type:"quote",quote:"Hello, how are you? This should be a very long message so that we can test how it fit into the screen.",user:{name:"John Doe",avatar:""}},{text:"Attached is an archive I mentioned",reply:!0,date:new Date,type:"file",files:[{url:"https://i.gifer.com/no.gif",icon:"file-text-outline"}],user:{name:"John Doe",avatar:""}},{text:"Meet me there",reply:!1,date:new Date,type:"map",latitude:40.714728,longitude:-73.998672,user:{name:"John Doe",avatar:""}}],g="https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png",f=["https://media.tenor.com/images/ac287fd06319e47b1533737662d5bfe8/tenor.gif","https://i.gifer.com/no.gif","https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif","http://www.reactiongifs.com/r/wnd1.gif"],_=["https://picsum.photos/320/240/?image=357","https://picsum.photos/320/240/?image=556","https://picsum.photos/320/240/?image=339","https://picsum.photos/320/240/?image=387","https://picsum.photos/320/240/?image=30","https://picsum.photos/320/240/?image=271"],z="http://google.com",Ye=[{regExp:/([H,h]ey)|([H,h]i)/g,answerArray:["Hello!","Yes?","Yes, milord?","What can I do for you?"],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:g}}},{regExp:/([H,h]elp)/g,answerArray:['No problem! Try sending a message containing word "hey", "image",\n    "gif", "file", "map", "quote", "file group" to see different message components'],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:g}}},{regExp:/([I,i]mage)|(IMAGE)|([P,p]ic)|(Picture)/g,answerArray:["Hey look at this!","Ready to work","Yes, master."],type:"pic",reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"",type:"image/jpeg"}],user:{name:"Bot",avatar:g}}},{regExp:/([G,g]if)|(GIF)/g,type:"gif",answerArray:["No problem","Well done","You got it man"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:"",type:"image/gif"}],user:{name:"Bot",avatar:g}}},{regExp:/([F,f]ile group)|(FILE)/g,type:"group",answerArray:["Take it!","Job Done.","As you wish"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:z,icon:"file-text-outline"},{url:"",type:"image/gif"},{url:"",type:"image/jpeg"}],icon:"file-text-outline",user:{name:"Bot",avatar:g}}},{regExp:/([F,f]ile)|(FILE)/g,type:"file",answerArray:["Take it!","Job Done.","As you wish"],reply:{text:"",reply:!1,date:new Date,type:"file",files:[{url:z,icon:"file-text-outline"}],icon:"file-text-outline",user:{name:"Bot",avatar:g}}},{regExp:/([M,m]ap)|(MAP)/g,type:"map",answerArray:["Done.","My sight is yours.","I shall be your eyes."],reply:{text:"",reply:!1,date:new Date,type:"map",latitude:53.914321,longitude:27.5998355,user:{name:"Bot",avatar:g}}},{regExp:/([Q,q]uote)|(QUOTE)/g,type:"quote",answerArray:["Quoted!","Say no more.","I gladly obey."],reply:{text:"",reply:!1,date:new Date,type:"quote",quote:"",user:{name:"Bot",avatar:g}}},{regExp:/(.*)/g,answerArray:['Hello there! Try typing "help"'],type:"text",reply:{text:"",reply:!1,date:new Date,user:{name:"Bot",avatar:g}}}];let N=(()=>{class s{loadMessages(){return Ue}loadBotReplies(){return Ye}reply(t){const a=this.loadBotReplies().find(o=>-1!==t.search(o.regExp));return"quote"===a.reply.type&&(a.reply.quote=t),"gif"===a.type&&(a.reply.files[0].url=f[Math.floor(Math.random()*f.length)]),"pic"===a.type&&(a.reply.files[0].url=_[Math.floor(Math.random()*_.length)]),"group"===a.type&&(a.reply.files[1].url=f[Math.floor(Math.random()*f.length)],a.reply.files[2].url=_[Math.floor(Math.random()*_.length)]),a.reply.text=a.answerArray[Math.floor(Math.random()*a.answerArray.length)],Object.assign({},a.reply)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})();function ze(s,n){if(1&s&&e._UZ(0,"nb-chat-message",3),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("quote",t.quote)("latitude",t.latitude)("longitude",t.longitude)("avatar",t.user.avatar)}}let ke=(()=>{class s{constructor(t){this.chatShowcaseService=t,this.messages=this.chatShowcaseService.loadMessages()}sendMessage(t){const a=t.files?t.files.map(i=>({url:i.src,type:i.type,icon:"file-text-outline"})):[];this.messages.push({text:t.message,date:new Date,reply:!0,type:a.length?"file":"text",files:a,user:{name:"Jonh Doe",avatar:"https://i.gifer.com/no.gif"}});const o=this.chatShowcaseService.reply(t.message);o&&setTimeout(()=>{this.messages.push(o)},500)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(N))},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-showcase"]],features:[e._Bn([N])],decls:3,vars:2,consts:[["title","Nebular Conversational UI","size","large"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0),e.YNc(1,ze,1,10,"nb-chat-message",1),e.TgZ(2,"nb-chat-form",2),e.NdJ("send",function(i){return a.sendMessage(i)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("dropFiles",!0))},directives:[p,r.sg,m,c],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px}"]}),s})();function je(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("avatar",t.user.avatar)}}function He(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"nb-chat",1),e.YNc(1,je,1,7,"nb-chat-message",2),e.TgZ(2,"nb-chat-form",3),e.NdJ("send",function(o){const h=e.CHM(t).$implicit;return e.oxw().sendMessage(h.messages,o)}),e.qZA(),e.qZA()}if(2&s){const t=n.$implicit;e.Q6J("title",t.title)("size",t.size),e.xp6(1),e.Q6J("ngForOf",t.messages)}}let Re=(()=>{class s{constructor(){this.chats=[{title:"Nebular Conversational UI Small",messages:[{text:"Small!",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://i.gifer.com/no.gif"}}],size:"small"},{title:"Nebular Conversational UI Medium",messages:[{text:"Medium!",date:new Date,reply:!0,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}],size:"large"}]}sendMessage(t,a){t.push({text:a.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-sizes"]],decls:1,vars:1,consts:[["status","info",3,"title","size",4,"ngFor","ngForOf"],["status","info",3,"title","size"],[3,"type","message","reply","sender","date","files","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","avatar"]],template:function(t,a){1&t&&e.YNc(0,He,3,3,"nb-chat",0),2&t&&e.Q6J("ngForOf",a.chats)},directives:[r.sg,p,m,c],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px;margin:.5rem 0 2rem 2rem}"]}),s})();function Ee(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("quote",t.quote)("latitude",t.latitude)("longitude",t.longitude)("avatar",t.user.avatar)}}function Pe(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"nb-chat",1),e.YNc(1,Ee,1,10,"nb-chat-message",2),e.TgZ(2,"nb-chat-form",3),e.NdJ("send",function(o){return e.CHM(t),e.oxw().sendMessage(o)}),e.qZA(),e.qZA()}if(2&s){const t=n.$implicit,a=e.oxw();e.Q6J("size",t.size)("status",t.status),e.xp6(1),e.Q6J("ngForOf",a.messages)}}let $e=(()=>{class s{constructor(){this.messages=[],this.sizes=["tiny","small","medium","large","giant"],this.statuses=["primary","success","info","warning","danger"],this.chats=this.prepareChats()}prepareChats(){const t=[];return this.statuses.forEach(a=>{this.sizes.forEach(o=>{t.push({size:o,status:a})})}),t}sendMessage(t){this.messages.push({text:t.message,date:new Date,reply:!0,user:{name:"Jonh Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-chat-test"]],decls:1,vars:1,consts:[[3,"size","status",4,"ngFor","ngForOf"],[3,"size","status"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(t,a){1&t&&e.YNc(0,Pe,3,3,"nb-chat",0),2&t&&e.Q6J("ngForOf",a.chats)},directives:[r.sg,p,m,c],encapsulation:2}),s})();function Xe(s,n){if(1&s&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.xp6(1),e.Oqu(t)}}function Ge(s,n){if(1&s&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.qZA()),2&s){const t=n.$implicit;e.xp6(2),e.Oqu(t.firstName),e.xp6(2),e.Oqu(t.lastName),e.xp6(2),e.Oqu(t.age)}}let Le=(()=>{class s{constructor(){this.columns=[],this.rows=[]}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["nb-custom-message-table"]],hostVars:2,hostBindings:function(t,a){2&t&&e.ekj("reply",a.isReply)},inputs:{columns:"columns",rows:"rows",isReply:"isReply"},decls:6,vars:2,consts:[[4,"ngFor","ngForOf"]],template:function(t,a){1&t&&(e.TgZ(0,"table"),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.YNc(3,Xe,2,1,"th",0),e.qZA(),e.qZA(),e.TgZ(4,"tbody"),e.YNc(5,Ge,7,3,"tr",0),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngForOf",a.columns),e.xp6(2),e.Q6J("ngForOf",a.rows))},directives:[r.sg],styles:["[_nghost-%COMP%]{display:block;margin-top:.5rem;padding:1rem;border-radius:.5rem}.reply[_nghost-%COMP%]{background:var(--background-basic-color-2)}[dir=ltr]   .reply[_nghost-%COMP%]{border-top-right-radius:0}[dir=rtl]   .reply[_nghost-%COMP%]{border-top-left-radius:0}[_nghost-%COMP%]:not(.reply){background:var(--background-primary-color-1);color:var(--text-control-color)}[dir=ltr]   [_nghost-%COMP%]:not(.reply){border-top-left-radius:0}[dir=rtl]   [_nghost-%COMP%]:not(.reply){border-top-right-radius:0}table[_ngcontent-%COMP%]{width:100%}"]}),s})();function Ve(s,n){if(1&s&&(e.TgZ(0,"a",7),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.Q6J("href",t.href,e.LSH),e.xp6(1),e.hij(" ",t.text," ")}}function We(s,n){if(1&s){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"p",8),e._uU(2,"Wow! Button in a message!"),e.qZA(),e.TgZ(3,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(1).scrollListBottom()}),e._uU(4),e.qZA(),e.qZA()}if(2&s){const t=n.$implicit;e.xp6(4),e.hij(" ",t," ")}}function Ke(s,n){if(1&s&&e._UZ(0,"nb-custom-message-table",10),2&s){const t=n.$implicit,a=n.isReply;e.Q6J("columns",t.columns)("rows",t.rows)("isReply",a)}}function et(s,n){if(1&s&&e._UZ(0,"nb-chat-message",11),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("customMessageData",t.customMessageData)}}function st(s,n){if(1&s&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&s){const t=n.$implicit;e.xp6(1),e.hij('Chat title content from template. Here is the text provided via context: "',t.text,'"')}}function at(s,n){if(1&s&&e._UZ(0,"nb-chat-message",4),2&s){const t=n.$implicit;e.Q6J("type",t.type)("message",t.text)("reply",t.reply)("sender",t.user.name)("date",t.date)("files",t.files)("quote",t.quote)("latitude",t.latitude)("longitude",t.longitude)("avatar",t.user.avatar)}}const nt=function(){return{text:"some text to pass into template"}},ot=[{path:"chat-colors.component",component:De},{path:"chat-conversation-showcase.component",component:Qe},{path:"chat-drop.component",component:Ae},{path:"chat-message-types-showcase.component",component:Be},{path:"chat-showcase.component",component:ke},{path:"chat-sizes.component",component:Re},{path:"chat-test.component",component:$e},{path:"chat-custom-message.component",component:(()=>{class s{constructor(){this.tableData={columns:["First Name","Last Name","Age"],rows:[{firstName:"Robert",lastName:"Baratheon",age:46},{firstName:"Jaime",lastName:"Lannister",age:31}]},this.messages=[]}ngOnInit(){this.loadMessages()}sendMessage(t){this.messages.push({text:t.message,date:new Date,reply:!0,type:"text",user:{name:"Gandalf the Grey",avatar:"https://i.gifer.com/no.gif"}})}loadMessages(){this.messages=[{type:"link",text:"Now you able to use links!",customMessageData:{href:"https://akveo.github.io/nebular/",text:"Go to Nebular"},reply:!1,date:new Date,user:{name:"Frodo Baggins",avatar:"https://i.gifer.com/no.gif"}},{type:"link",customMessageData:{href:"https://akveo.github.io/ngx-admin/",text:"Go to ngx-admin"},reply:!0,date:new Date,user:{name:"Meriadoc Brandybuck",avatar:"https://i.gifer.com/no.gif"}},{type:"button",customMessageData:"Click to scroll down",reply:!1,date:new Date,user:{name:"Gimli Gloin",avatar:""}},{type:"table",text:"Now let's try to add a table",customMessageData:this.tableData,reply:!1,date:new Date,user:{name:"Fredegar Bolger",avatar:"https://i.gifer.com/no.gif"}},{type:"table",text:"And one more table but now in the reply",customMessageData:this.tableData,reply:!0,date:new Date,user:{name:"Fredegar Bolger",avatar:"https://i.gifer.com/no.gif"}}]}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["ng-component"]],decls:7,vars:7,consts:[["title","Nebular Conversational UI","size","large",3,"scrollBottom"],["chatComponent",""],["target","_blank",3,"href",4,"nbCustomMessage"],[4,"nbCustomMessage"],[3,"columns","rows","isReply",4,"nbCustomMessage","nbCustomMessageNoStyles"],[3,"type","message","reply","sender","date","customMessageData",4,"ngFor","ngForOf"],[3,"dropFiles","send"],["target","_blank",3,"href"],[1,"text-control","button-custom-message-text"],["nbButton","","status","control",3,"click"],[3,"columns","rows","isReply"],[3,"type","message","reply","sender","date","customMessageData"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0,1),e.YNc(2,Ve,2,2,"a",2),e.YNc(3,We,5,1,"div",3),e.YNc(4,Ke,1,3,"nb-custom-message-table",4),e.YNc(5,et,1,6,"nb-chat-message",5),e.TgZ(6,"nb-chat-form",6),e.NdJ("send",function(i){return a.sendMessage(i)}),e.qZA(),e.qZA()),2&t&&(e.Q6J("scrollBottom",!1),e.xp6(2),e.Q6J("nbCustomMessage","link"),e.xp6(1),e.Q6J("nbCustomMessage","button"),e.xp6(1),e.Q6J("nbCustomMessage","table")("nbCustomMessageNoStyles",!0),e.xp6(1),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("dropFiles",!1))},directives:[p,A,r.sg,m,J.D,Le,c],styles:["nb-chat[_ngcontent-%COMP%]{width:500px;margin:0 auto}img[_ngcontent-%COMP%]{width:100%;height:auto}.button-custom-message-text[_ngcontent-%COMP%]{margin-top:0}"],changeDetection:0}),s})()},{path:"chat-template-title.component",component:(()=>{class s{constructor(){this.messages=[{text:"Custom template was provided as a title!",date:new Date,reply:!1,user:{name:"Bot",avatar:"https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-12/256/robot-face.png"}}]}sendMessage(t){this.messages.push({text:t.message,date:new Date,reply:!0,user:{name:"John Doe",avatar:"https://techcrunch.com/wp-content/uploads/2015/08/safe_image.gif"}})}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["ng-component"]],features:[e._Bn([N])],decls:4,vars:4,consts:[["size","small"],["nbChatTitle","",3,"context"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar",4,"ngFor","ngForOf"],[3,"dropFiles","send"],[3,"type","message","reply","sender","date","files","quote","latitude","longitude","avatar"]],template:function(t,a){1&t&&(e.TgZ(0,"nb-chat",0),e.YNc(1,st,2,1,"ng-template",1),e.YNc(2,at,1,10,"nb-chat-message",2),e.TgZ(3,"nb-chat-form",3),e.NdJ("send",function(i){return a.sendMessage(i)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("context",e.DdM(3,nt)),e.xp6(1),e.Q6J("ngForOf",a.messages),e.xp6(1),e.Q6J("dropFiles",!0))},directives:[p,M,r.sg,m,c],styles:["nb-layout-column{justify-content:center;display:flex}nb-chat[_ngcontent-%COMP%]{width:500px}"]}),s})()}];let it=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[I.Bz.forChild(ot)],I.Bz]}),s})(),rt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[r.ez,Fe.forRoot(),Ne.z,S.T,it]]}),s})()}}]);