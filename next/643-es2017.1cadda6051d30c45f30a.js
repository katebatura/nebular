(self.webpackChunknebular=self.webpackChunknebular||[]).push([[643],{63906:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,e=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(window,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(window,"resize",this._checkForIntersections,!0),r(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(i){var o=i.element,r=h(o),s=this._rootContainsTarget(o),c=i.entry,l=t&&s&&this._computeTargetAndRootIntersection(o,e),u=i.entry=new n({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:r,rootBounds:e,intersectionRect:l});c?t&&s?this._hasCrossedThreshold(c,u)&&this._queuedEntries.push(u):c&&c.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(e,n){if("none"!=window.getComputedStyle(e).display){for(var i=h(e),o=l(e),r=!1;!r;){var c=null,u=1==o.nodeType?window.getComputedStyle(o):{};if("none"==u.display)return;if(o==this.root||o==t?(r=!0,c=n):o!=t.body&&o!=t.documentElement&&"visible"!=u.overflow&&(c=h(o)),c&&!(i=s(c,i)))break;o=l(o)}return i}},i.prototype._getRootRect=function(){var e;if(this.root)e=h(this.root);else{var n=t.documentElement,i=t.body;e={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var o=0;o<this.thresholds.length;o++){var r=this.thresholds[o];if(r==n||r==i||r<n!=r<i)return!0}},i.prototype._rootIsInDom=function(){return!this.root||c(t,this.root)},i.prototype._rootContainsTarget=function(e){return c(this.root||t,e)},i.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},i.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=i,window.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect;this.intersectionRatio=n?Number((i.width*i.height/n).toFixed(4)):this.isIntersecting?1:0}function i(t,e){var n=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(t,e){var n=null;return function(){n||(n=setTimeout(function(){t(),n=null},e))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function o(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function r(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function s(t,e){var n=Math.max(t.top,e.top),i=Math.min(t.bottom,e.bottom),o=Math.max(t.left,e.left),r=Math.min(t.right,e.right),s=r-o,h=i-n;return s>=0&&h>=0&&{top:n,bottom:i,left:o,right:r,width:s,height:h}}function h(t){var e;try{e=t.getBoundingClientRect()}catch(n){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var n=e;n;){if(n==t)return!0;n=l(n)}return!1}function l(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},77233:function(t,e,n){"use strict";n.d(e,{s:function(){return _}});var i=n(37716),o=n(18891),r=n(33637),s=n(26561);function h(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var c=n(79765),l=n(46797),u=n(25917),a=n(35758),d=n(45435),p=n(43190),f=n(46782),g=n(15257),m=n(88002),b=n(24036),v=n(59190),w=n(94775),y=n(62829);let _=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.scrollService=e,this.dimensionsService=n,this.destroy$=new c.xQ,this.windowScroll=!1,this.bottomThreshold=new i.vpe(!0),this.topThreshold=new i.vpe(!0)}get elementScroll(){return!this.windowScroll}set listenWindowScroll(t){this.windowScroll=(0,b.e)(t)}onElementScroll(){this.elementScroll&&this.checkPosition(this.elementRef.nativeElement)}ngAfterViewInit(){this.scrollService.onScroll().pipe((0,d.h)(()=>this.windowScroll),(0,p.w)(()=>this.getContainerDimensions()),(0,f.R)(this.destroy$)).subscribe(t=>this.checkPosition(t)),this.listItems.changes.pipe((0,p.w)(()=>function(t=0,e=r.P){return(!(0,s.k)(t)||t<0)&&(t=0),(!e||"function"!=typeof e.schedule)&&(e=r.P),new o.y(n=>(n.add(e.schedule(h,t,{subscriber:n,counter:0,period:t})),n))}(50).pipe((0,d.h)(()=>this.inSyncWithDom()),(0,g.q)(1),(0,f.R)((0,l.H)(1e3)))),(0,p.w)(()=>this.getContainerDimensions()),(0,f.R)(this.destroy$)).subscribe(t=>this.checkPosition(t)),this.getContainerDimensions().subscribe(t=>this.checkPosition(t))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}checkPosition({scrollHeight:t,scrollTop:e,clientHeight:n}){const i=null==this.lastScrollPosition,o=e<this.lastScrollPosition;(i||this.lastScrollPosition===e||e>this.lastScrollPosition)&&t-e-n<=this.threshold&&this.bottomThreshold.emit(),(i||o)&&e<=this.threshold&&this.topThreshold.emit(),this.lastScrollPosition=e}getContainerDimensions(){if(this.elementScroll){const{scrollTop:t,scrollHeight:e,clientHeight:n}=this.elementRef.nativeElement;return(0,u.of)({scrollTop:t,scrollHeight:e,clientHeight:n})}return(0,a.D)([this.scrollService.getPosition(),this.dimensionsService.getDimensions()]).pipe((0,m.U)(([t,e])=>({scrollTop:t.y,scrollHeight:e.scrollHeight,clientHeight:e.clientHeight})))}inSyncWithDom(){return this.elementRef.nativeElement.children.length===this.listItems.length}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(w.H),i.Y36(y.m))},t.\u0275dir=i.lG2({type:t,selectors:[["","nbInfiniteList",""]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,v.q,4),2&t){let t;i.iGM(t=i.CRH())&&(e.listItems=t)}},hostBindings:function(t,e){1&t&&i.NdJ("scroll",function(){return e.onElementScroll()})},inputs:{threshold:"threshold",listenWindowScroll:"listenWindowScroll"},outputs:{bottomThreshold:"bottomThreshold",topThreshold:"topThreshold"}}),t})()},3656:function(t,e,n){"use strict";n.d(e,{B:function(){return h}});var i=n(37716),o=n(46782),r=n(79765),s=(n(63906),n(59190));let h=(()=>{class t{constructor(){this.destroy$=new r.xQ,this.startPage=1,this.pageChange=new i.vpe,this.observer=new IntersectionObserver(t=>this.checkForPageChange(t),{threshold:.5})}ngAfterViewInit(){this.listItems&&this.listItems.length&&this.observeItems(),this.listItems.changes.pipe((0,o.R)(this.destroy$)).subscribe(()=>this.observeItems())}ngOnDestroy(){this.observer.disconnect&&this.observer.disconnect()}observeItems(){this.listItems.forEach(t=>this.observer.observe(t.nativeElement))}checkForPageChange(t){const e=this.findMostVisiblePage(t);e&&this.currentPage!==e&&(this.currentPage=e,this.pageChange.emit(this.currentPage))}findMostVisiblePage(t){const e=new Map;for(const o of t){if(o.intersectionRatio<.5)continue;const t=this.elementIndex(o.target);if(-1===t)continue;const n=this.startPage+Math.floor(t/this.pageSize);let i=o.intersectionRatio;e.has(n)&&(i+=e.get(n)),e.set(n,i)}let n,i=0;return e.forEach((t,e)=>{t>i&&(i=t,n=e)}),n}elementIndex(t){return t.parentElement&&t.parentElement.children?Array.from(t.parentElement.children).indexOf(t):-1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","nbListPageTracker",""]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,s.q,4,i.SBq),2&t){let t;i.iGM(t=i.CRH())&&(e.listItems=t)}},inputs:{pageSize:"pageSize",startPage:"startPage"},outputs:{pageChange:"pageChange"}}),t})()},59190:function(t,e,n){"use strict";n.d(e,{z:function(){return h},q:function(){return c}});var i=n(37716);const o=[[["nb-list-item"]]],r=["nb-list-item"],s=["*"];let h=(()=>{class t{constructor(){this.role="list"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["nb-list"]],hostVars:1,hostBindings:function(t,e){2&t&&i.uIk("role",e.role)},inputs:{role:"role"},ngContentSelectors:r,decls:1,vars:0,template:function(t,e){1&t&&(i.F$t(o),i.Hsn(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;overflow:auto}"]}),t})(),c=(()=>{class t{constructor(){this.role="listitem"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["nb-list-item"]],hostVars:1,hostBindings:function(t,e){2&t&&i.uIk("role",e.role)},inputs:{role:"role"},ngContentSelectors:s,decls:1,vars:0,template:function(t,e){1&t&&(i.F$t(),i.Hsn(0))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-shrink:0}"]}),t})()},10643:function(t,e,n){"use strict";n.d(e,{C:function(){return o}}),n(59190),n(3656),n(77233);var i=n(37716);let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})()}}]);