"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1520],{91891:(F,S,i)=>{i.d(S,{s:()=>Q});var n=i(83668),w=i(53314),P=i(88178),T=i(48212);function f(g=0,p=P.P){return(!(0,T.k)(g)||g<0)&&(g=0),(!p||"function"!=typeof p.schedule)&&(p=P.P),new w.y(l=>(l.add(p.schedule(t,g,{subscriber:l,counter:0,period:g})),l))}function t(g){const{subscriber:p,counter:l,period:u}=g;p.next(l),this.schedule({subscriber:p,counter:l+1,period:u},u)}var h=i(23405),c=i(34099),r=i(78526),d=i(69279),I=i(22411),b=i(36813),N=i(38345);const x={leading:!0,trailing:!1};function O(g,p=x){return l=>l.lift(new B(g,!!p.leading,!!p.trailing))}class B{constructor(p,l,u){this.durationSelector=p,this.leading=l,this.trailing=u}call(p,l){return l.subscribe(new C(p,this.durationSelector,this.leading,this.trailing))}}class C extends N.Ds{constructor(p,l,u,y){super(p),this.destination=p,this.durationSelector=l,this._leading=u,this._trailing=y,this._hasValue=!1}_next(p){this._hasValue=!0,this._sendValue=p,this._throttled||(this._leading?this.send():this.throttle(p))}send(){const{_hasValue:p,_sendValue:l}=this;p&&(this.destination.next(l),this.throttle(l)),this._hasValue=!1,this._sendValue=void 0}throttle(p){const l=this.tryDurationSelector(p);l&&this.add(this._throttled=(0,N.ft)(l,new N.IY(this)))}tryDurationSelector(p){try{return this.durationSelector(p)}catch(l){return this.destination.error(l),null}}throttlingDone(){const{_throttled:p,_trailing:l}=this;p&&p.unsubscribe(),this._throttled=void 0,l&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}var R=i(18735),M=i(79204),Z=i(28805),$=i(6636),G=i(38053),L=i(38580),U=i(59490),H=i(69627),_=i(39468);let Q=(()=>{class g{constructor(l,u,y){this.elementRef=l,this.scrollService=u,this.dimensionsService=y,this.destroy$=new h.xQ,this.windowScroll=!1,this.elementScroll$=new h.xQ,this.windowScroll$=this.scrollService.onScroll().pipe((0,R.h)(()=>this.windowScroll)),this.bottomThreshold$=new h.xQ,this.topThreshold$=new h.xQ,this.throttleTime$=new c.X(0),this.bottomThreshold=new n.vpe(!0),this.topThreshold=new n.vpe(!0)}get elementScroll(){return!this.windowScroll}set throttleTime(l){this.throttleTime$.next(l)}get throttleTime(){return this.throttleTime$.value}set listenWindowScroll(l){this.windowScroll=(0,L.e)(l)}onElementScroll(){this.elementScroll&&this.elementScroll$.next()}ngAfterViewInit(){(0,r.T)(this.windowScroll$,this.elementScroll$).pipe((0,M.w)(()=>this.getContainerDimensions()),(0,Z.R)(this.destroy$)).subscribe(l=>this.checkPosition(l)),this.throttleTime$.pipe((0,M.w)(()=>this.topThreshold$.pipe(O(()=>f(this.throttleTime)))),(0,Z.R)(this.destroy$)).subscribe(()=>{this.topThreshold.emit()}),this.throttleTime$.pipe((0,M.w)(()=>this.bottomThreshold$.pipe(O(()=>f(this.throttleTime)))),(0,Z.R)(this.destroy$)).subscribe(()=>{this.bottomThreshold.emit()}),this.listItems.changes.pipe((0,M.w)(()=>f(50).pipe((0,R.h)(()=>this.inSyncWithDom()),(0,$.q)(1),(0,Z.R)((0,d.H)(1e3)))),(0,M.w)(()=>this.getContainerDimensions()),(0,Z.R)(this.destroy$)).subscribe(l=>this.checkPosition(l)),this.getContainerDimensions().subscribe(l=>this.checkPosition(l))}ngOnDestroy(){this.topThreshold$.complete(),this.bottomThreshold$.complete(),this.elementScroll$.complete(),this.destroy$.next(),this.destroy$.complete()}checkPosition({scrollHeight:l,scrollTop:u,clientHeight:y}){const z=null==this.lastScrollPosition,V=u<this.lastScrollPosition;(z||this.lastScrollPosition===u||u>this.lastScrollPosition)&&l-u-y<=this.threshold&&this.bottomThreshold$.next(),(z||V)&&u<=this.threshold&&this.topThreshold$.next(),this.lastScrollPosition=u}getContainerDimensions(){if(this.elementScroll){const{scrollTop:l,scrollHeight:u,clientHeight:y}=this.elementRef.nativeElement;return(0,I.of)({scrollTop:l,scrollHeight:u,clientHeight:y})}return(0,b.D)([this.scrollService.getPosition(),this.dimensionsService.getDimensions()]).pipe((0,G.U)(([l,u])=>({scrollTop:l.y,scrollHeight:u.scrollHeight,clientHeight:u.clientHeight})))}inSyncWithDom(){return this.elementRef.nativeElement.children.length===this.listItems.length}}return g.\u0275fac=function(l){return new(l||g)(n.Y36(n.SBq),n.Y36(H.H),n.Y36(_.m))},g.\u0275dir=n.lG2({type:g,selectors:[["","nbInfiniteList",""]],contentQueries:function(l,u,y){if(1&l&&n.Suo(y,U.q,4),2&l){let z;n.iGM(z=n.CRH())&&(u.listItems=z)}},hostBindings:function(l,u){1&l&&n.NdJ("scroll",function(){return u.onElementScroll()})},inputs:{threshold:"threshold",throttleTime:"throttleTime",listenWindowScroll:"listenWindowScroll"},outputs:{bottomThreshold:"bottomThreshold",topThreshold:"topThreshold"}}),g})()},6283:(F,S,i)=>{i.d(S,{B:()=>f});var n=i(83668),w=i(28805),P=i(23405),T=i(59490);let f=(()=>{class t{constructor(){this.destroy$=new P.xQ,this.startPage=1,this.pageChange=new n.vpe,this.observer=new IntersectionObserver(c=>this.checkForPageChange(c),{threshold:.5})}ngAfterViewInit(){this.listItems&&this.listItems.length&&this.observeItems(),this.listItems.changes.pipe((0,w.R)(this.destroy$)).subscribe(()=>this.observeItems())}ngOnDestroy(){this.observer.disconnect&&this.observer.disconnect()}observeItems(){this.listItems.forEach(c=>this.observer.observe(c.nativeElement))}checkForPageChange(c){const r=this.findMostVisiblePage(c);r&&this.currentPage!==r&&(this.currentPage=r,this.pageChange.emit(this.currentPage))}findMostVisiblePage(c){const r=new Map;for(const b of c){if(b.intersectionRatio<.5)continue;const N=this.elementIndex(b.target);if(-1===N)continue;const x=this.startPage+Math.floor(N/this.pageSize);let O=b.intersectionRatio;r.has(x)&&(O+=r.get(x)),r.set(x,O)}let I,d=0;return r.forEach((b,N)=>{b>d&&(d=b,I=N)}),I}elementIndex(c){return c.parentElement&&c.parentElement.children?Array.from(c.parentElement.children).indexOf(c):-1}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","nbListPageTracker",""]],contentQueries:function(c,r,d){if(1&c&&n.Suo(d,T.q,4,n.SBq),2&c){let I;n.iGM(I=n.CRH())&&(r.listItems=I)}},inputs:{pageSize:"pageSize",startPage:"startPage"},outputs:{pageChange:"pageChange"}}),t})()},59490:(F,S,i)=>{i.d(S,{z:()=>f,q:()=>t});var n=i(83668);const w=[[["nb-list-item"]]],P=["nb-list-item"],T=["*"];let f=(()=>{class h{constructor(){this.role="list"}}return h.\u0275fac=function(r){return new(r||h)},h.\u0275cmp=n.Xpm({type:h,selectors:[["nb-list"]],hostVars:1,hostBindings:function(r,d){2&r&&n.uIk("role",d.role)},inputs:{role:"role"},ngContentSelectors:P,decls:1,vars:0,template:function(r,d){1&r&&(n.F$t(w),n.Hsn(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;overflow:auto}"]}),h})(),t=(()=>{class h{constructor(){this.role="listitem"}}return h.\u0275fac=function(r){return new(r||h)},h.\u0275cmp=n.Xpm({type:h,selectors:[["nb-list-item"]],hostVars:1,hostBindings:function(r,d){2&r&&n.uIk("role",d.role)},inputs:{role:"role"},ngContentSelectors:T,decls:1,vars:0,template:function(r,d){1&r&&(n.F$t(),n.Hsn(0))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-shrink:0}"]}),h})()},62335:(F,S,i)=>{i.d(S,{C:()=>t}),i(59490),i(6283),i(91891);var T=i(83668);let t=(()=>{class h{}return h.\u0275fac=function(r){return new(r||h)},h.\u0275mod=T.oAB({type:h}),h.\u0275inj=T.cJS({}),h})()},7895:(F,S,i)=>{i.d(S,{Q:()=>t});var n=i(83668),w=i(40163),P=i(86019);function T(h,c){if(1&h&&(n.TgZ(0,"span",2),n._uU(1),n.qZA()),2&h){const r=n.oxw();n.xp6(1),n.Oqu(r.message)}}let f=(()=>{class h{constructor(r){this.statusService=r,this.message="Loading...",this.size="medium",this.status="basic"}get tiny(){return"tiny"===this.size}get small(){return"small"===this.size}get medium(){return"medium"===this.size}get large(){return"large"===this.size}get giant(){return"giant"===this.size}get primary(){return"primary"===this.status}get info(){return"info"===this.status}get success(){return"success"===this.status}get warning(){return"warning"===this.status}get danger(){return"danger"===this.status}get basic(){return"basic"===this.status}get control(){return"control"===this.status}get additionalClasses(){return this.statusService.isCustomStatus(this.status)?[this.statusService.getStatusClass(this.status)]:[]}}return h.\u0275fac=function(r){return new(r||h)(n.Y36(w.Y))},h.\u0275cmp=n.Xpm({type:h,selectors:[["nb-spinner"]],hostVars:26,hostBindings:function(r,d){2&r&&(n.Tol(d.additionalClasses),n.ekj("size-tiny",d.tiny)("size-small",d.small)("size-medium",d.medium)("size-large",d.large)("size-giant",d.giant)("status-primary",d.primary)("status-info",d.info)("status-success",d.success)("status-warning",d.warning)("status-danger",d.danger)("status-basic",d.basic)("status-control",d.control))},inputs:{message:"message",size:"size",status:"status"},decls:2,vars:1,consts:[[1,"spin-circle"],["class","message",4,"ngIf"],[1,"message"]],template:function(r,d){1&r&&(n._UZ(0,"span",0),n.YNc(1,T,2,1,"span",1)),2&r&&(n.xp6(1),n.Q6J("ngIf",d.message))},directives:[P.O5],styles:["[_nghost-%COMP%]{opacity:1;position:absolute;border-radius:inherit;top:0;right:0;left:0;bottom:0;overflow:hidden;z-index:9999;display:flex;justify-content:center;align-items:center;visibility:visible}[_nghost-%COMP%]   .spin-circle[_ngcontent-%COMP%]{animation:spin .8s infinite linear;border-radius:50%;border-style:solid;border-width:.125em;width:1em;height:1em}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{margin-left:.5rem}"]}),h})(),t=(()=>{class h{constructor(r,d,I,b){this.directiveView=r,this.componentFactoryResolver=d,this.renderer=I,this.directiveElement=b,this.shouldShow=!1,this.spinnerStatus="basic",this.spinnerSize="medium",this.isSpinnerExist=!1}set nbSpinner(r){this.componentFactory?r?this.show():this.hide():this.shouldShow=r}ngOnInit(){this.componentFactory=this.componentFactoryResolver.resolveComponentFactory(f),this.shouldShow&&this.show()}hide(){this.isSpinnerExist&&(this.directiveView.remove(),this.isSpinnerExist=!1)}show(){this.isSpinnerExist||(this.spinner=this.directiveView.createComponent(this.componentFactory),this.setInstanceInputs(this.spinner.instance),this.spinner.changeDetectorRef.detectChanges(),this.renderer.appendChild(this.directiveElement.nativeElement,this.spinner.location.nativeElement),this.isSpinnerExist=!0)}setInstanceInputs(r){r.message=this.spinnerMessage,void 0!==this.spinnerStatus&&(r.status=this.spinnerStatus),void 0!==this.spinnerSize&&(r.size=this.spinnerSize)}}return h.\u0275fac=function(r){return new(r||h)(n.Y36(n.s_b),n.Y36(n._Vd),n.Y36(n.Qsj),n.Y36(n.SBq))},h.\u0275dir=n.lG2({type:h,selectors:[["","nbSpinner",""]],hostVars:2,hostBindings:function(r,d){2&r&&n.ekj("nb-spinner-container",d.isSpinnerExist)},inputs:{spinnerMessage:["nbSpinnerMessage","spinnerMessage"],spinnerStatus:["nbSpinnerStatus","spinnerStatus"],spinnerSize:["nbSpinnerSize","spinnerSize"],nbSpinner:"nbSpinner"}}),h})()},41520:(F,S,i)=>{i.r(S),i.d(S,{InfiniteListModule:()=>ct});var n=i(86019),w=i(62335),P=i(85082),T=i(11907),f=i(24301),t=i(83668),h=i(33596),c=i(6636),r=i(97434),d=i(95165),I=i(63507),b=i(97084);function x(s,a,e){return 0===e?[a]:(s.push(a),s)}var B=i(93049),C=i(59490),R=i(38053),M=i(5250),Z=i(44522);let L=(()=>{class s{constructor(e){this.http=e}load(e,o){const m=(e-1)%7*o;return this.http.get("assets/data/news.json").pipe((0,R.U)(v=>v.splice(m,o)),(0,M.g)(1500))}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(Z.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})();var U=i(69627),H=i(39468),_=i(60634),D=i(91891),Q=i(6283);let g=(()=>{class s{constructor(){this.label="Loading"}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["nb-news-post-placeholder"]],hostVars:1,hostBindings:function(e,o){2&e&&t.uIk("aria-label",o.label)},decls:3,vars:0,consts:[[1,"title-placeholder"],[1,"text-placeholder"],[1,"link-placeholder"]],template:function(e,o){1&e&&(t._UZ(0,"div",0),t._UZ(1,"div",1),t._UZ(2,"div",2))},styles:["[_nghost-%COMP%]{display:block;width:100%}.title-placeholder[_ngcontent-%COMP%]{height:1.8rem;margin-bottom:.5rem;width:80%}.text-placeholder[_ngcontent-%COMP%]{height:4rem;margin-bottom:1rem}.link-placeholder[_ngcontent-%COMP%]{height:1.25rem;width:5rem}[_nghost-%COMP%]   [class$=placeholder][_ngcontent-%COMP%]{background:var(--background-basic-color-4)}"]}),s})(),p=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["nb-news-post"]],inputs:{post:"post"},decls:7,vars:3,consts:[[1,"h5"]],template:function(e,o){1&e&&(t.TgZ(0,"article"),t.TgZ(1,"h2",0),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"a"),t._uU(6,"Read full article"),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(o.post.title),t.xp6(2),t.Oqu(o.post.text),t.xp6(1),t.uIk("href",o.post.link,t.LSH))},encapsulation:2}),s})();function l(s,a){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}function u(s,a){if(1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post",2),t.qZA()),2&s){const e=a.$implicit;t.xp6(1),t.Q6J("post",e)}}function y(s,a){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}let z=(()=>{class s{constructor(e,o,m,v,A,E,Y){this.newsService=e,this.router=o,this.route=m,this.scrollService=v,this.layoutService=A,this.platformId=E,this.window=Y,this.news=[],this.topPlaceholders=[],this.bottomPlaceholders=[],this.pageSize=10,this.loadingNext=!1,this.loadingPrevious=!1,(0,n.NF)(this.platformId)&&this.window.history.scrollRestoration&&(this.initialScrollRestoration=Y.history.scrollRestoration,history.scrollRestoration="manual")}ngOnInit(){const{page:e}=this.route.snapshot.queryParams;this.startPage=e?Number.parseInt(e,10):100,this.pageToLoadNext=this.startPage}ngOnDestroy(){this.initialScrollRestoration&&(this.window.history.scrollRestoration=this.initialScrollRestoration)}updateUrl(e){this.router.navigate(["."],{queryParams:{page:e},replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge"})}loadPrevious(){this.loadingPrevious||1===this.startPage||(this.loadingPrevious=!0,this.topPlaceholders=new Array(this.pageSize),this.restoreScrollPosition(),this.startPage--,this.newsService.load(this.startPage,this.pageSize).subscribe(e=>{this.topPlaceholders=[],this.news.unshift(...e),this.loadingPrevious=!1},e=>this.startPage++))}loadNext(){this.loadingNext||(this.loadingNext=!0,this.bottomPlaceholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(e=>{this.bottomPlaceholders=[],this.news.push(...e),this.loadingNext=!1,this.pageToLoadNext++}))}restoreScrollPosition(){(0,h.z)(this.layoutService.getDimensions(),this.scrollService.getPosition(),this.listItems.changes.pipe((0,c.q)(1)),this.layoutService.getDimensions(),this.scrollService.getPosition()).pipe(function(s,a){return arguments.length>=2?function(o){return(0,b.z)((0,r.R)(s,a),(0,d.h)(1),(0,I.d)(a))(o)}:function(o){return(0,b.z)((0,r.R)((m,v,A)=>s(m,v,A+1)),(0,d.h)(1))(o)}}(x,[])).subscribe(([e,o,,m,v])=>{const X=v.y,K=m.scrollHeight-e.scrollHeight;o.y+K!==X&&this.scrollService.scrollTo(null,X+K)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(L),t.Y36(f.F0),t.Y36(f.gz),t.Y36(U.H),t.Y36(H.m),t.Y36(t.Lbi),t.Y36(B.Q3))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(e,o){if(1&e&&t.Gf(C.q,5,t.SBq),2&e){let m;t.iGM(m=t.CRH())&&(o.listItems=m)}},features:[t._Bn([L])],decls:5,vars:6,consts:[["nbInfiniteList","","listenWindowScroll","","nbListPageTracker","",3,"threshold","pageSize","startPage","topThreshold","bottomThreshold","pageChange"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(e,o){1&e&&(t.TgZ(0,"nb-card"),t.TgZ(1,"nb-list",0),t.NdJ("topThreshold",function(){return o.loadPrevious()})("bottomThreshold",function(){return o.loadNext()})("pageChange",function(v){return o.updateUrl(v)}),t.YNc(2,l,2,0,"nb-list-item",1),t.YNc(3,u,2,1,"nb-list-item",1),t.YNc(4,y,2,0,"nb-list-item",1),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("threshold",500)("pageSize",o.pageSize)("startPage",o.startPage),t.xp6(1),t.Q6J("ngForOf",o.topPlaceholders),t.xp6(1),t.Q6J("ngForOf",o.news),t.xp6(1),t.Q6J("ngForOf",o.bottomPlaceholders))},directives:[_.As,C.z,D.s,Q.B,n.sg,C.q,g,p],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),s})();function J(s,a){if(1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post",4),t.qZA()),2&s){const e=a.$implicit;t.xp6(1),t.Q6J("post",e)}}function V(s,a){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}function W(s,a){if(1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post",4),t.qZA()),2&s){const e=a.$implicit;t.xp6(1),t.Q6J("post",e)}}function j(s,a){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}let q=(()=>{class s{constructor(e){this.newsService=e,this.firstCard={news:[],placeholders:[],loading:!1,pageToLoadNext:1},this.secondCard={news:[],placeholders:[],loading:!1,pageToLoadNext:1},this.pageSize=10}loadNext(e){e.loading||(e.loading=!0,e.placeholders=new Array(this.pageSize),this.newsService.load(e.pageToLoadNext,this.pageSize).subscribe(o=>{e.placeholders=[],e.news.push(...o),e.loading=!1,e.pageToLoadNext++}))}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(L))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],features:[t._Bn([L])],decls:12,vars:6,consts:[[1,"own-scroll"],["nbInfiniteList","",3,"threshold","bottomThreshold"],[4,"ngFor","ngForOf"],["nbInfiniteList","","listenWindowScroll","",3,"threshold","bottomThreshold"],[3,"post"]],template:function(e,o){1&e&&(t.TgZ(0,"nb-card",0),t.TgZ(1,"nb-card-header"),t._uU(2," Own scroll "),t.qZA(),t.TgZ(3,"nb-list",1),t.NdJ("bottomThreshold",function(){return o.loadNext(o.firstCard)}),t.YNc(4,J,2,1,"nb-list-item",2),t.YNc(5,V,2,0,"nb-list-item",2),t.qZA(),t.qZA(),t.TgZ(6,"nb-card"),t.TgZ(7,"nb-card-header"),t._uU(8," Window scroll "),t.qZA(),t.TgZ(9,"nb-list",3),t.NdJ("bottomThreshold",function(){return o.loadNext(o.secondCard)}),t.YNc(10,W,2,1,"nb-list-item",2),t.YNc(11,j,2,0,"nb-list-item",2),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("threshold",500),t.xp6(1),t.Q6J("ngForOf",o.firstCard.news),t.xp6(1),t.Q6J("ngForOf",o.firstCard.placeholders),t.xp6(4),t.Q6J("threshold",500),t.xp6(1),t.Q6J("ngForOf",o.secondCard.news),t.xp6(1),t.Q6J("ngForOf",o.secondCard.placeholders))},directives:[_.As,_.nd,C.z,D.s,n.sg,C.q,p,g],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}","[_nghost-%COMP%]{display:flex}nb-card[_ngcontent-%COMP%]{flex:1 1 45%;margin:0 2.5%}nb-card.own-scroll[_ngcontent-%COMP%]{height:30rem}"]}),s})();function k(s,a){if(1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post",2),t.qZA()),2&s){const e=a.$implicit;t.xp6(1),t.Q6J("post",e)}}function tt(s,a){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}let et=(()=>{class s{constructor(e){this.newsService=e,this.news=[],this.placeholders=[],this.pageSize=10,this.pageToLoadNext=1,this.loading=!1}loadNext(){this.loading||(this.loading=!0,this.placeholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(e=>{this.placeholders=[],this.news.push(...e),this.loading=!1,this.pageToLoadNext++}))}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(L))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],features:[t._Bn([L])],decls:4,vars:3,consts:[["nbInfiniteList","","listenWindowScroll","",3,"threshold","bottomThreshold"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(e,o){1&e&&(t.TgZ(0,"nb-card"),t.TgZ(1,"nb-list",0),t.NdJ("bottomThreshold",function(){return o.loadNext()}),t.YNc(2,k,2,1,"nb-list-item",1),t.YNc(3,tt,2,0,"nb-list-item",1),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("threshold",500),t.xp6(1),t.Q6J("ngForOf",o.news),t.xp6(1),t.Q6J("ngForOf",o.placeholders))},directives:[_.As,C.z,D.s,n.sg,C.q,p,g],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),s})();var st=i(18735),it=i(7895);function nt(s,a){if(1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post",3),t.qZA()),2&s){const e=a.$implicit;t.xp6(1),t.Q6J("post",e)}}function ot(s,a){1&s&&(t.TgZ(0,"nb-list-item"),t._UZ(1,"nb-news-post-placeholder"),t.qZA())}function lt(s,a){const e=s.getComputedStyle(a),o=parseInt(e.getPropertyValue("margin-top"),10),m=parseInt(e.getPropertyValue("margin-bottom"),10);return a.offsetHeight+o+m}const at=[{path:"infinite-list-placeholders.component",component:z},{path:"infinite-list-scroll-modes.component",component:q},{path:"infinite-list-showcase.component",component:et},{path:"infinite-news-list.component",component:(()=>{class s{constructor(e,o,m,v,A,E){this.newsService=e,this.router=o,this.route=m,this.scrollService=v,this.platformId=A,this.window=E,this.news=[],this.placeholders=[],this.pageSize=10,this.loadingNext=!1,this.loadingPrevious=!1,(0,n.NF)(this.platformId)&&this.window.history.scrollRestoration&&(this.initialScrollRestoration=E.history.scrollRestoration,history.scrollRestoration="manual")}ngOnInit(){const{page:e}=this.route.snapshot.queryParams;this.startPage=e?Number.parseInt(e,10):1,this.pageToLoadNext=this.startPage}ngOnDestroy(){this.initialScrollRestoration&&(this.window.history.scrollRestoration=this.initialScrollRestoration)}updateUrl(e){this.router.navigate(["."],{queryParams:{page:e},replaceUrl:!0,relativeTo:this.route,queryParamsHandling:"merge"})}loadPrevious(){this.loadingPrevious||1===this.startPage||(this.loadingPrevious=!0,this.newsService.load(this.startPage-1,this.pageSize).subscribe(e=>{this.news.unshift(...e),this.loadingPrevious=!1,this.restoreScrollPosition(),this.startPage--}))}loadNext(){this.loadingNext||(this.loadingNext=!0,this.placeholders=new Array(this.pageSize),this.newsService.load(this.pageToLoadNext,this.pageSize).subscribe(e=>{this.placeholders=[],this.news.push(...e),this.loadingNext=!1,this.pageToLoadNext++}))}restoreScrollPosition(){const e=this.listItems.length>0?this.listItems.first.nativeElement:null;this.listItems.changes.pipe((0,R.U)(()=>this.listItems.first.nativeElement),(0,st.h)(o=>o!==e),(0,c.q)(1)).subscribe(()=>{let o=0;for(const{nativeElement:m}of this.listItems.toArray()){if(m===e)break;o+=lt(this.window,m)}this.scrollService.scrollTo(null,o)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(L),t.Y36(f.F0),t.Y36(f.gz),t.Y36(U.H),t.Y36(t.Lbi),t.Y36(B.Q3))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(e,o){if(1&e&&t.Gf(C.q,5,t.SBq),2&e){let m;t.iGM(m=t.CRH())&&(o.listItems=m)}},features:[t._Bn([L])],decls:5,vars:6,consts:[[3,"nbSpinner"],["nbInfiniteList","","listenWindowScroll","","nbListPageTracker","",3,"threshold","pageSize","startPage","topThreshold","bottomThreshold","pageChange"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(e,o){1&e&&(t.TgZ(0,"nb-card"),t._UZ(1,"div",0),t.TgZ(2,"nb-list",1),t.NdJ("topThreshold",function(){return o.loadPrevious()})("bottomThreshold",function(){return o.loadNext()})("pageChange",function(v){return o.updateUrl(v)}),t.YNc(3,nt,2,1,"nb-list-item",2),t.YNc(4,ot,2,0,"nb-list-item",2),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("nbSpinner",o.loadingPrevious),t.xp6(1),t.Q6J("threshold",500)("pageSize",o.pageSize)("startPage",o.startPage),t.xp6(1),t.Q6J("ngForOf",o.news),t.xp6(1),t.Q6J("ngForOf",o.placeholders))},directives:[_.As,it.Q,C.z,D.s,Q.B,n.sg,C.q,p,g],styles:["body{height:30rem}[_nghost-%COMP%]{display:block;margin:0 auto;max-width:50rem}.nb-spinner-container[_ngcontent-%COMP%]{flex:1 0 4rem}"]}),s})()}];let ht=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[f.Bz.forChild(at)],f.Bz]}),s})(),ct=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[n.ez,w.C,P.z,T.u,ht]]}),s})()}}]);